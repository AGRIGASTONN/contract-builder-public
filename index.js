/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/airtable/lib/airtable.umd.js":
/*!***************************************************!*\
  !*** ./node_modules/airtable/lib/airtable.umd.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("(function(f){if(true){module.exports=f()}else { var g; }})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=undefined;if(!f&&c)return require(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=undefined,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n// istanbul ignore file\nvar AbortController;\nvar browserGlobal = typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : null; // self is the global in web workers\nif (!browserGlobal) {\n    AbortController = require('abort-controller');\n}\nelse if ('signal' in new Request('https://airtable.com')) {\n    AbortController = browserGlobal.AbortController;\n}\nelse {\n    /* eslint-disable @typescript-eslint/no-var-requires */\n    var polyfill = require('abortcontroller-polyfill/dist/cjs-ponyfill');\n    /* eslint-enable @typescript-eslint/no-var-requires */\n    AbortController = polyfill.AbortController;\n}\nmodule.exports = AbortController;\n\n},{\"abort-controller\":20,\"abortcontroller-polyfill/dist/cjs-ponyfill\":19}],2:[function(require,module,exports){\n\"use strict\";\nvar AirtableError = /** @class */ (function () {\n    function AirtableError(error, message, statusCode) {\n        this.error = error;\n        this.message = message;\n        this.statusCode = statusCode;\n    }\n    AirtableError.prototype.toString = function () {\n        return [\n            this.message,\n            '(',\n            this.error,\n            ')',\n            this.statusCode ? \"[Http code \" + this.statusCode + \"]\" : '',\n        ].join('');\n    };\n    return AirtableError;\n}());\nmodule.exports = AirtableError;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar get_1 = __importDefault(require(\"lodash/get\"));\nvar isPlainObject_1 = __importDefault(require(\"lodash/isPlainObject\"));\nvar keys_1 = __importDefault(require(\"lodash/keys\"));\nvar fetch_1 = __importDefault(require(\"./fetch\"));\nvar abort_controller_1 = __importDefault(require(\"./abort-controller\"));\nvar object_to_query_param_string_1 = __importDefault(require(\"./object_to_query_param_string\"));\nvar airtable_error_1 = __importDefault(require(\"./airtable_error\"));\nvar table_1 = __importDefault(require(\"./table\"));\nvar http_headers_1 = __importDefault(require(\"./http_headers\"));\nvar run_action_1 = __importDefault(require(\"./run_action\"));\nvar package_version_1 = __importDefault(require(\"./package_version\"));\nvar exponential_backoff_with_jitter_1 = __importDefault(require(\"./exponential_backoff_with_jitter\"));\nvar userAgent = \"Airtable.js/\" + package_version_1.default;\nvar Base = /** @class */ (function () {\n    function Base(airtable, baseId) {\n        this._airtable = airtable;\n        this._id = baseId;\n    }\n    Base.prototype.table = function (tableName) {\n        return new table_1.default(this, null, tableName);\n    };\n    Base.prototype.makeRequest = function (options) {\n        var _this = this;\n        var _a;\n        if (options === void 0) { options = {}; }\n        var method = get_1.default(options, 'method', 'GET').toUpperCase();\n        var url = this._airtable._endpointUrl + \"/v\" + this._airtable._apiVersionMajor + \"/\" + this._id + get_1.default(options, 'path', '/') + \"?\" + object_to_query_param_string_1.default(get_1.default(options, 'qs', {}));\n        var controller = new abort_controller_1.default();\n        var headers = this._getRequestHeaders(Object.assign({}, this._airtable._customHeaders, (_a = options.headers) !== null && _a !== void 0 ? _a : {}));\n        var requestOptions = {\n            method: method,\n            headers: headers,\n            signal: controller.signal,\n        };\n        if ('body' in options && _canRequestMethodIncludeBody(method)) {\n            requestOptions.body = JSON.stringify(options.body);\n        }\n        var timeout = setTimeout(function () {\n            controller.abort();\n        }, this._airtable._requestTimeout);\n        return new Promise(function (resolve, reject) {\n            fetch_1.default(url, requestOptions)\n                .then(function (resp) {\n                clearTimeout(timeout);\n                if (resp.status === 429 && !_this._airtable._noRetryIfRateLimited) {\n                    var numAttempts_1 = get_1.default(options, '_numAttempts', 0);\n                    var backoffDelayMs = exponential_backoff_with_jitter_1.default(numAttempts_1);\n                    setTimeout(function () {\n                        var newOptions = __assign(__assign({}, options), { _numAttempts: numAttempts_1 + 1 });\n                        _this.makeRequest(newOptions)\n                            .then(resolve)\n                            .catch(reject);\n                    }, backoffDelayMs);\n                }\n                else {\n                    resp.json()\n                        .then(function (body) {\n                        var err = _this._checkStatusForError(resp.status, body) ||\n                            _getErrorForNonObjectBody(resp.status, body);\n                        if (err) {\n                            reject(err);\n                        }\n                        else {\n                            resolve({\n                                statusCode: resp.status,\n                                headers: resp.headers,\n                                body: body,\n                            });\n                        }\n                    })\n                        .catch(function () {\n                        var err = _getErrorForNonObjectBody(resp.status);\n                        reject(err);\n                    });\n                }\n            })\n                .catch(function (err) {\n                clearTimeout(timeout);\n                err = new airtable_error_1.default('CONNECTION_ERROR', err.message, null);\n                reject(err);\n            });\n        });\n    };\n    /**\n     * @deprecated This method is deprecated.\n     */\n    Base.prototype.runAction = function (method, path, queryParams, bodyData, callback) {\n        run_action_1.default(this, method, path, queryParams, bodyData, callback, 0);\n    };\n    Base.prototype._getRequestHeaders = function (headers) {\n        var result = new http_headers_1.default();\n        result.set('Authorization', \"Bearer \" + this._airtable._apiKey);\n        result.set('User-Agent', userAgent);\n        result.set('Content-Type', 'application/json');\n        for (var _i = 0, _a = keys_1.default(headers); _i < _a.length; _i++) {\n            var headerKey = _a[_i];\n            result.set(headerKey, headers[headerKey]);\n        }\n        return result.toJSON();\n    };\n    Base.prototype._checkStatusForError = function (statusCode, body) {\n        var _a = (body !== null && body !== void 0 ? body : { error: {} }).error, error = _a === void 0 ? {} : _a;\n        var type = error.type, message = error.message;\n        if (statusCode === 401) {\n            return new airtable_error_1.default('AUTHENTICATION_REQUIRED', 'You should provide valid api key to perform this operation', statusCode);\n        }\n        else if (statusCode === 403) {\n            return new airtable_error_1.default('NOT_AUTHORIZED', 'You are not authorized to perform this operation', statusCode);\n        }\n        else if (statusCode === 404) {\n            return new airtable_error_1.default('NOT_FOUND', message !== null && message !== void 0 ? message : 'Could not find what you are looking for', statusCode);\n        }\n        else if (statusCode === 413) {\n            return new airtable_error_1.default('REQUEST_TOO_LARGE', 'Request body is too large', statusCode);\n        }\n        else if (statusCode === 422) {\n            return new airtable_error_1.default(type !== null && type !== void 0 ? type : 'UNPROCESSABLE_ENTITY', message !== null && message !== void 0 ? message : 'The operation cannot be processed', statusCode);\n        }\n        else if (statusCode === 429) {\n            return new airtable_error_1.default('TOO_MANY_REQUESTS', 'You have made too many requests in a short period of time. Please retry your request later', statusCode);\n        }\n        else if (statusCode === 500) {\n            return new airtable_error_1.default('SERVER_ERROR', 'Try again. If the problem persists, contact support.', statusCode);\n        }\n        else if (statusCode === 503) {\n            return new airtable_error_1.default('SERVICE_UNAVAILABLE', 'The service is temporarily unavailable. Please retry shortly.', statusCode);\n        }\n        else if (statusCode >= 400) {\n            return new airtable_error_1.default(type !== null && type !== void 0 ? type : 'UNEXPECTED_ERROR', message !== null && message !== void 0 ? message : 'An unexpected error occurred', statusCode);\n        }\n        else {\n            return null;\n        }\n    };\n    Base.prototype.doCall = function (tableName) {\n        return this.table(tableName);\n    };\n    Base.prototype.getId = function () {\n        return this._id;\n    };\n    Base.createFunctor = function (airtable, baseId) {\n        var base = new Base(airtable, baseId);\n        var baseFn = function (tableName) {\n            return base.doCall(tableName);\n        };\n        baseFn._base = base;\n        baseFn.table = base.table.bind(base);\n        baseFn.makeRequest = base.makeRequest.bind(base);\n        baseFn.runAction = base.runAction.bind(base);\n        baseFn.getId = base.getId.bind(base);\n        return baseFn;\n    };\n    return Base;\n}());\nfunction _canRequestMethodIncludeBody(method) {\n    return method !== 'GET' && method !== 'DELETE';\n}\nfunction _getErrorForNonObjectBody(statusCode, body) {\n    if (isPlainObject_1.default(body)) {\n        return null;\n    }\n    else {\n        return new airtable_error_1.default('UNEXPECTED_ERROR', 'The response from Airtable was invalid JSON. Please try again soon.', statusCode);\n    }\n}\nmodule.exports = Base;\n\n},{\"./abort-controller\":1,\"./airtable_error\":2,\"./exponential_backoff_with_jitter\":6,\"./fetch\":7,\"./http_headers\":9,\"./object_to_query_param_string\":11,\"./package_version\":12,\"./run_action\":16,\"./table\":17,\"lodash/get\":77,\"lodash/isPlainObject\":89,\"lodash/keys\":93}],4:[function(require,module,exports){\n\"use strict\";\n/**\n * Given a function fn that takes a callback as its last argument, returns\n * a new version of the function that takes the callback optionally. If\n * the function is not called with a callback for the last argument, the\n * function will return a promise instead.\n */\n/* eslint-disable @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types */\nfunction callbackToPromise(fn, context, callbackArgIndex) {\n    if (callbackArgIndex === void 0) { callbackArgIndex = void 0; }\n    /* eslint-enable @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types */\n    return function () {\n        var callArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            callArgs[_i] = arguments[_i];\n        }\n        var thisCallbackArgIndex;\n        if (callbackArgIndex === void 0) {\n            // istanbul ignore next\n            thisCallbackArgIndex = callArgs.length > 0 ? callArgs.length - 1 : 0;\n        }\n        else {\n            thisCallbackArgIndex = callbackArgIndex;\n        }\n        var callbackArg = callArgs[thisCallbackArgIndex];\n        if (typeof callbackArg === 'function') {\n            fn.apply(context, callArgs);\n            return void 0;\n        }\n        else {\n            var args_1 = [];\n            // If an explicit callbackArgIndex is set, but the function is called\n            // with too few arguments, we want to push undefined onto args so that\n            // our constructed callback ends up at the right index.\n            var argLen = Math.max(callArgs.length, thisCallbackArgIndex);\n            for (var i = 0; i < argLen; i++) {\n                args_1.push(callArgs[i]);\n            }\n            return new Promise(function (resolve, reject) {\n                args_1.push(function (err, result) {\n                    if (err) {\n                        reject(err);\n                    }\n                    else {\n                        resolve(result);\n                    }\n                });\n                fn.apply(context, args_1);\n            });\n        }\n    };\n}\nmodule.exports = callbackToPromise;\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\nvar didWarnForDeprecation = {};\n/**\n * Convenience function for marking a function as deprecated.\n *\n * Will emit a warning the first time that function is called.\n *\n * @param fn the function to mark as deprecated.\n * @param key a unique key identifying the function.\n * @param message the warning message.\n *\n * @return a wrapped function\n */\nfunction deprecate(fn, key, message) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!didWarnForDeprecation[key]) {\n            didWarnForDeprecation[key] = true;\n            console.warn(message);\n        }\n        fn.apply(this, args);\n    };\n}\nmodule.exports = deprecate;\n\n},{}],6:[function(require,module,exports){\n\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar internal_config_json_1 = __importDefault(require(\"./internal_config.json\"));\n// \"Full Jitter\" algorithm taken from https://aws.amazon.com/blogs/architecture/exponential-backoff-and-jitter/\nfunction exponentialBackoffWithJitter(numberOfRetries) {\n    var rawBackoffTimeMs = internal_config_json_1.default.INITIAL_RETRY_DELAY_IF_RATE_LIMITED * Math.pow(2, numberOfRetries);\n    var clippedBackoffTimeMs = Math.min(internal_config_json_1.default.MAX_RETRY_DELAY_IF_RATE_LIMITED, rawBackoffTimeMs);\n    var jitteredBackoffTimeMs = Math.random() * clippedBackoffTimeMs;\n    return jitteredBackoffTimeMs;\n}\nmodule.exports = exponentialBackoffWithJitter;\n\n},{\"./internal_config.json\":10}],7:[function(require,module,exports){\n\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\n// istanbul ignore file\nvar node_fetch_1 = __importDefault(require(\"node-fetch\"));\nvar browserGlobal = typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : null; // self is the global in web workers\nmodule.exports = !browserGlobal ? node_fetch_1.default : browserGlobal.fetch.bind(browserGlobal);\n\n},{\"node-fetch\":20}],8:[function(require,module,exports){\n\"use strict\";\n/* eslint-enable @typescript-eslint/no-explicit-any */\nfunction has(object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n}\nmodule.exports = has;\n\n},{}],9:[function(require,module,exports){\n\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar keys_1 = __importDefault(require(\"lodash/keys\"));\nvar isBrowser = typeof window !== 'undefined';\nvar HttpHeaders = /** @class */ (function () {\n    function HttpHeaders() {\n        this._headersByLowercasedKey = {};\n    }\n    HttpHeaders.prototype.set = function (headerKey, headerValue) {\n        var lowercasedKey = headerKey.toLowerCase();\n        if (lowercasedKey === 'x-airtable-user-agent') {\n            lowercasedKey = 'user-agent';\n            headerKey = 'User-Agent';\n        }\n        this._headersByLowercasedKey[lowercasedKey] = {\n            headerKey: headerKey,\n            headerValue: headerValue,\n        };\n    };\n    HttpHeaders.prototype.toJSON = function () {\n        var result = {};\n        for (var _i = 0, _a = keys_1.default(this._headersByLowercasedKey); _i < _a.length; _i++) {\n            var lowercasedKey = _a[_i];\n            var headerDefinition = this._headersByLowercasedKey[lowercasedKey];\n            var headerKey = void 0;\n            /* istanbul ignore next */\n            if (isBrowser && lowercasedKey === 'user-agent') {\n                // Some browsers do not allow overriding the user agent.\n                // https://github.com/Airtable/airtable.js/issues/52\n                headerKey = 'X-Airtable-User-Agent';\n            }\n            else {\n                headerKey = headerDefinition.headerKey;\n            }\n            result[headerKey] = headerDefinition.headerValue;\n        }\n        return result;\n    };\n    return HttpHeaders;\n}());\nmodule.exports = HttpHeaders;\n\n},{\"lodash/keys\":93}],10:[function(require,module,exports){\nmodule.exports={\n    \"INITIAL_RETRY_DELAY_IF_RATE_LIMITED\": 5000,\n    \"MAX_RETRY_DELAY_IF_RATE_LIMITED\": 600000\n}\n\n},{}],11:[function(require,module,exports){\n\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar isArray_1 = __importDefault(require(\"lodash/isArray\"));\nvar isNil_1 = __importDefault(require(\"lodash/isNil\"));\nvar keys_1 = __importDefault(require(\"lodash/keys\"));\n/* eslint-enable @typescript-eslint/no-explicit-any */\n// Adapted from jQuery.param:\n// https://github.com/jquery/jquery/blob/2.2-stable/src/serialize.js\nfunction buildParams(prefix, obj, addFn) {\n    if (isArray_1.default(obj)) {\n        // Serialize array item.\n        for (var index = 0; index < obj.length; index++) {\n            var value = obj[index];\n            if (/\\[\\]$/.test(prefix)) {\n                // Treat each array item as a scalar.\n                addFn(prefix, value);\n            }\n            else {\n                // Item is non-scalar (array or object), encode its numeric index.\n                buildParams(prefix + \"[\" + (typeof value === 'object' && value !== null ? index : '') + \"]\", value, addFn);\n            }\n        }\n    }\n    else if (typeof obj === 'object') {\n        // Serialize object item.\n        for (var _i = 0, _a = keys_1.default(obj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var value = obj[key];\n            buildParams(prefix + \"[\" + key + \"]\", value, addFn);\n        }\n    }\n    else {\n        // Serialize scalar item.\n        addFn(prefix, obj);\n    }\n}\nfunction objectToQueryParamString(obj) {\n    var parts = [];\n    var addFn = function (key, value) {\n        value = isNil_1.default(value) ? '' : value;\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(value));\n    };\n    for (var _i = 0, _a = keys_1.default(obj); _i < _a.length; _i++) {\n        var key = _a[_i];\n        var value = obj[key];\n        buildParams(key, value, addFn);\n    }\n    return parts.join('&').replace(/%20/g, '+');\n}\nmodule.exports = objectToQueryParamString;\n\n},{\"lodash/isArray\":79,\"lodash/isNil\":85,\"lodash/keys\":93}],12:[function(require,module,exports){\n\"use strict\";\nmodule.exports = \"0.12.2\";\n\n},{}],13:[function(require,module,exports){\n\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar isFunction_1 = __importDefault(require(\"lodash/isFunction\"));\nvar keys_1 = __importDefault(require(\"lodash/keys\"));\nvar record_1 = __importDefault(require(\"./record\"));\nvar callback_to_promise_1 = __importDefault(require(\"./callback_to_promise\"));\nvar has_1 = __importDefault(require(\"./has\"));\nvar query_params_1 = require(\"./query_params\");\nvar object_to_query_param_string_1 = __importDefault(require(\"./object_to_query_param_string\"));\n/**\n * Builds a query object. Won't fetch until `firstPage` or\n * or `eachPage` is called.\n *\n * Params should be validated prior to being passed to Query\n * with `Query.validateParams`.\n */\nvar Query = /** @class */ (function () {\n    function Query(table, params) {\n        this._table = table;\n        this._params = params;\n        this.firstPage = callback_to_promise_1.default(firstPage, this);\n        this.eachPage = callback_to_promise_1.default(eachPage, this, 1);\n        this.all = callback_to_promise_1.default(all, this);\n    }\n    /**\n     * Validates the parameters for passing to the Query constructor.\n     *\n     * @params {object} params parameters to validate\n     *\n     * @return an object with two keys:\n     *  validParams: the object that should be passed to the constructor.\n     *  ignoredKeys: a list of keys that will be ignored.\n     *  errors: a list of error messages.\n     */\n    Query.validateParams = function (params) {\n        var validParams = {};\n        var ignoredKeys = [];\n        var errors = [];\n        for (var _i = 0, _a = keys_1.default(params); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var value = params[key];\n            if (has_1.default(Query.paramValidators, key)) {\n                var validator = Query.paramValidators[key];\n                var validationResult = validator(value);\n                if (validationResult.pass) {\n                    validParams[key] = value;\n                }\n                else {\n                    errors.push(validationResult.error);\n                }\n            }\n            else {\n                ignoredKeys.push(key);\n            }\n        }\n        return {\n            validParams: validParams,\n            ignoredKeys: ignoredKeys,\n            errors: errors,\n        };\n    };\n    Query.paramValidators = query_params_1.paramValidators;\n    return Query;\n}());\n/**\n * Fetches the first page of results for the query asynchronously,\n * then calls `done(error, records)`.\n */\nfunction firstPage(done) {\n    if (!isFunction_1.default(done)) {\n        throw new Error('The first parameter to `firstPage` must be a function');\n    }\n    this.eachPage(function (records) {\n        done(null, records);\n    }, function (error) {\n        done(error, null);\n    });\n}\n/**\n * Fetches each page of results for the query asynchronously.\n *\n * Calls `pageCallback(records, fetchNextPage)` for each\n * page. You must call `fetchNextPage()` to fetch the next page of\n * results.\n *\n * After fetching all pages, or if there's an error, calls\n * `done(error)`.\n */\nfunction eachPage(pageCallback, done) {\n    var _this = this;\n    if (!isFunction_1.default(pageCallback)) {\n        throw new Error('The first parameter to `eachPage` must be a function');\n    }\n    if (!isFunction_1.default(done) && done !== void 0) {\n        throw new Error('The second parameter to `eachPage` must be a function or undefined');\n    }\n    var params = __assign({}, this._params);\n    var pathAndParamsAsString = \"/\" + this._table._urlEncodedNameOrId() + \"?\" + object_to_query_param_string_1.default(params);\n    var queryParams = {};\n    var requestData = null;\n    var method;\n    var path;\n    if (params.method === 'post' || pathAndParamsAsString.length > query_params_1.URL_CHARACTER_LENGTH_LIMIT) {\n        // There is a 16kb limit on GET requests. Since the URL makes up nearly all of the request size, we check for any requests that\n        // that come close to this limit and send it as a POST instead. Additionally, we'll send the request as a post if it is specified\n        // with the request params\n        requestData = params;\n        method = 'post';\n        path = \"/\" + this._table._urlEncodedNameOrId() + \"/listRecords\";\n        var paramNames = Object.keys(params);\n        for (var _i = 0, paramNames_1 = paramNames; _i < paramNames_1.length; _i++) {\n            var paramName = paramNames_1[_i];\n            if (query_params_1.shouldListRecordsParamBePassedAsParameter(paramName)) {\n                // timeZone and userLocale is parsed from the GET request separately from the other params. This parsing\n                // does not occurring within the body parser we use for POST requests, so this will still need to be passed\n                // via query params\n                queryParams[paramName] = params[paramName];\n            }\n            else {\n                requestData[paramName] = params[paramName];\n            }\n        }\n    }\n    else {\n        method = 'get';\n        queryParams = params;\n        path = \"/\" + this._table._urlEncodedNameOrId();\n    }\n    var inner = function () {\n        _this._table._base.runAction(method, path, queryParams, requestData, function (err, response, result) {\n            if (err) {\n                done(err, null);\n            }\n            else {\n                var next = void 0;\n                if (result.offset) {\n                    params.offset = result.offset;\n                    next = inner;\n                }\n                else {\n                    next = function () {\n                        done(null);\n                    };\n                }\n                var records = result.records.map(function (recordJson) {\n                    return new record_1.default(_this._table, null, recordJson);\n                });\n                pageCallback(records, next);\n            }\n        });\n    };\n    inner();\n}\n/**\n * Fetches all pages of results asynchronously. May take a long time.\n */\nfunction all(done) {\n    if (!isFunction_1.default(done)) {\n        throw new Error('The first parameter to `all` must be a function');\n    }\n    var allRecords = [];\n    this.eachPage(function (pageRecords, fetchNextPage) {\n        allRecords.push.apply(allRecords, pageRecords);\n        fetchNextPage();\n    }, function (err) {\n        if (err) {\n            done(err, null);\n        }\n        else {\n            done(null, allRecords);\n        }\n    });\n}\nmodule.exports = Query;\n\n},{\"./callback_to_promise\":4,\"./has\":8,\"./object_to_query_param_string\":11,\"./query_params\":14,\"./record\":15,\"lodash/isFunction\":83,\"lodash/keys\":93}],14:[function(require,module,exports){\n\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldListRecordsParamBePassedAsParameter = exports.URL_CHARACTER_LENGTH_LIMIT = exports.paramValidators = void 0;\nvar typecheck_1 = __importDefault(require(\"./typecheck\"));\nvar isString_1 = __importDefault(require(\"lodash/isString\"));\nvar isNumber_1 = __importDefault(require(\"lodash/isNumber\"));\nvar isPlainObject_1 = __importDefault(require(\"lodash/isPlainObject\"));\nvar isBoolean_1 = __importDefault(require(\"lodash/isBoolean\"));\nexports.paramValidators = {\n    fields: typecheck_1.default(typecheck_1.default.isArrayOf(isString_1.default), 'the value for `fields` should be an array of strings'),\n    filterByFormula: typecheck_1.default(isString_1.default, 'the value for `filterByFormula` should be a string'),\n    maxRecords: typecheck_1.default(isNumber_1.default, 'the value for `maxRecords` should be a number'),\n    pageSize: typecheck_1.default(isNumber_1.default, 'the value for `pageSize` should be a number'),\n    offset: typecheck_1.default(isNumber_1.default, 'the value for `offset` should be a number'),\n    sort: typecheck_1.default(typecheck_1.default.isArrayOf(function (obj) {\n        return (isPlainObject_1.default(obj) &&\n            isString_1.default(obj.field) &&\n            (obj.direction === void 0 || ['asc', 'desc'].includes(obj.direction)));\n    }), 'the value for `sort` should be an array of sort objects. ' +\n        'Each sort object must have a string `field` value, and an optional ' +\n        '`direction` value that is \"asc\" or \"desc\".'),\n    view: typecheck_1.default(isString_1.default, 'the value for `view` should be a string'),\n    cellFormat: typecheck_1.default(function (cellFormat) {\n        return isString_1.default(cellFormat) && ['json', 'string'].includes(cellFormat);\n    }, 'the value for `cellFormat` should be \"json\" or \"string\"'),\n    timeZone: typecheck_1.default(isString_1.default, 'the value for `timeZone` should be a string'),\n    userLocale: typecheck_1.default(isString_1.default, 'the value for `userLocale` should be a string'),\n    method: typecheck_1.default(function (method) {\n        return isString_1.default(method) && ['get', 'post'].includes(method);\n    }, 'the value for `method` should be \"get\" or \"post\"'),\n    returnFieldsByFieldId: typecheck_1.default(isBoolean_1.default, 'the value for `returnFieldsByFieldId` should be a boolean'),\n    recordMetadata: typecheck_1.default(typecheck_1.default.isArrayOf(isString_1.default), 'the value for `recordMetadata` should be an array of strings'),\n};\nexports.URL_CHARACTER_LENGTH_LIMIT = 15000;\nexports.shouldListRecordsParamBePassedAsParameter = function (paramName) {\n    return paramName === 'timeZone' || paramName === 'userLocale';\n};\n\n},{\"./typecheck\":18,\"lodash/isBoolean\":81,\"lodash/isNumber\":86,\"lodash/isPlainObject\":89,\"lodash/isString\":90}],15:[function(require,module,exports){\n\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar callback_to_promise_1 = __importDefault(require(\"./callback_to_promise\"));\nvar Record = /** @class */ (function () {\n    function Record(table, recordId, recordJson) {\n        this._table = table;\n        this.id = recordId || recordJson.id;\n        if (recordJson) {\n            this.commentCount = recordJson.commentCount;\n        }\n        this.setRawJson(recordJson);\n        this.save = callback_to_promise_1.default(save, this);\n        this.patchUpdate = callback_to_promise_1.default(patchUpdate, this);\n        this.putUpdate = callback_to_promise_1.default(putUpdate, this);\n        this.destroy = callback_to_promise_1.default(destroy, this);\n        this.fetch = callback_to_promise_1.default(fetch, this);\n        this.updateFields = this.patchUpdate;\n        this.replaceFields = this.putUpdate;\n    }\n    Record.prototype.getId = function () {\n        return this.id;\n    };\n    Record.prototype.get = function (columnName) {\n        return this.fields[columnName];\n    };\n    Record.prototype.set = function (columnName, columnValue) {\n        this.fields[columnName] = columnValue;\n    };\n    Record.prototype.setRawJson = function (rawJson) {\n        this._rawJson = rawJson;\n        this.fields = (this._rawJson && this._rawJson.fields) || {};\n    };\n    return Record;\n}());\nfunction save(done) {\n    this.putUpdate(this.fields, done);\n}\nfunction patchUpdate(cellValuesByName, opts, done) {\n    var _this = this;\n    if (!done) {\n        done = opts;\n        opts = {};\n    }\n    var updateBody = __assign({ fields: cellValuesByName }, opts);\n    this._table._base.runAction('patch', \"/\" + this._table._urlEncodedNameOrId() + \"/\" + this.id, {}, updateBody, function (err, response, results) {\n        if (err) {\n            done(err);\n            return;\n        }\n        _this.setRawJson(results);\n        done(null, _this);\n    });\n}\nfunction putUpdate(cellValuesByName, opts, done) {\n    var _this = this;\n    if (!done) {\n        done = opts;\n        opts = {};\n    }\n    var updateBody = __assign({ fields: cellValuesByName }, opts);\n    this._table._base.runAction('put', \"/\" + this._table._urlEncodedNameOrId() + \"/\" + this.id, {}, updateBody, function (err, response, results) {\n        if (err) {\n            done(err);\n            return;\n        }\n        _this.setRawJson(results);\n        done(null, _this);\n    });\n}\nfunction destroy(done) {\n    var _this = this;\n    this._table._base.runAction('delete', \"/\" + this._table._urlEncodedNameOrId() + \"/\" + this.id, {}, null, function (err) {\n        if (err) {\n            done(err);\n            return;\n        }\n        done(null, _this);\n    });\n}\nfunction fetch(done) {\n    var _this = this;\n    this._table._base.runAction('get', \"/\" + this._table._urlEncodedNameOrId() + \"/\" + this.id, {}, null, function (err, response, results) {\n        if (err) {\n            done(err);\n            return;\n        }\n        _this.setRawJson(results);\n        done(null, _this);\n    });\n}\nmodule.exports = Record;\n\n},{\"./callback_to_promise\":4}],16:[function(require,module,exports){\n\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar exponential_backoff_with_jitter_1 = __importDefault(require(\"./exponential_backoff_with_jitter\"));\nvar object_to_query_param_string_1 = __importDefault(require(\"./object_to_query_param_string\"));\nvar package_version_1 = __importDefault(require(\"./package_version\"));\nvar fetch_1 = __importDefault(require(\"./fetch\"));\nvar abort_controller_1 = __importDefault(require(\"./abort-controller\"));\nvar userAgent = \"Airtable.js/\" + package_version_1.default;\nfunction runAction(base, method, path, queryParams, bodyData, callback, numAttempts) {\n    var url = base._airtable._endpointUrl + \"/v\" + base._airtable._apiVersionMajor + \"/\" + base._id + path + \"?\" + object_to_query_param_string_1.default(queryParams);\n    var headers = {\n        authorization: \"Bearer \" + base._airtable._apiKey,\n        'x-api-version': base._airtable._apiVersion,\n        'x-airtable-application-id': base.getId(),\n        'content-type': 'application/json',\n    };\n    var isBrowser = typeof window !== 'undefined';\n    // Some browsers do not allow overriding the user agent.\n    // https://github.com/Airtable/airtable.js/issues/52\n    if (isBrowser) {\n        headers['x-airtable-user-agent'] = userAgent;\n    }\n    else {\n        headers['User-Agent'] = userAgent;\n    }\n    var controller = new abort_controller_1.default();\n    var normalizedMethod = method.toUpperCase();\n    var options = {\n        method: normalizedMethod,\n        headers: headers,\n        signal: controller.signal,\n    };\n    if (bodyData !== null) {\n        if (normalizedMethod === 'GET' || normalizedMethod === 'HEAD') {\n            console.warn('body argument to runAction are ignored with GET or HEAD requests');\n        }\n        else {\n            options.body = JSON.stringify(bodyData);\n        }\n    }\n    var timeout = setTimeout(function () {\n        controller.abort();\n    }, base._airtable._requestTimeout);\n    fetch_1.default(url, options)\n        .then(function (resp) {\n        clearTimeout(timeout);\n        if (resp.status === 429 && !base._airtable._noRetryIfRateLimited) {\n            var backoffDelayMs = exponential_backoff_with_jitter_1.default(numAttempts);\n            setTimeout(function () {\n                runAction(base, method, path, queryParams, bodyData, callback, numAttempts + 1);\n            }, backoffDelayMs);\n        }\n        else {\n            resp.json()\n                .then(function (body) {\n                var error = base._checkStatusForError(resp.status, body);\n                // Ensure Response interface matches interface from\n                // `request` Response object\n                var r = {};\n                Object.keys(resp).forEach(function (property) {\n                    r[property] = resp[property];\n                });\n                r.body = body;\n                r.statusCode = resp.status;\n                callback(error, r, body);\n            })\n                .catch(function () {\n                callback(base._checkStatusForError(resp.status));\n            });\n        }\n    })\n        .catch(function (error) {\n        clearTimeout(timeout);\n        callback(error);\n    });\n}\nmodule.exports = runAction;\n\n},{\"./abort-controller\":1,\"./exponential_backoff_with_jitter\":6,\"./fetch\":7,\"./object_to_query_param_string\":11,\"./package_version\":12}],17:[function(require,module,exports){\n\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar isPlainObject_1 = __importDefault(require(\"lodash/isPlainObject\"));\nvar deprecate_1 = __importDefault(require(\"./deprecate\"));\nvar query_1 = __importDefault(require(\"./query\"));\nvar query_params_1 = require(\"./query_params\");\nvar object_to_query_param_string_1 = __importDefault(require(\"./object_to_query_param_string\"));\nvar record_1 = __importDefault(require(\"./record\"));\nvar callback_to_promise_1 = __importDefault(require(\"./callback_to_promise\"));\nvar Table = /** @class */ (function () {\n    function Table(base, tableId, tableName) {\n        if (!tableId && !tableName) {\n            throw new Error('Table name or table ID is required');\n        }\n        this._base = base;\n        this.id = tableId;\n        this.name = tableName;\n        // Public API\n        this.find = callback_to_promise_1.default(this._findRecordById, this);\n        this.select = this._selectRecords.bind(this);\n        this.create = callback_to_promise_1.default(this._createRecords, this);\n        this.update = callback_to_promise_1.default(this._updateRecords.bind(this, false), this);\n        this.replace = callback_to_promise_1.default(this._updateRecords.bind(this, true), this);\n        this.destroy = callback_to_promise_1.default(this._destroyRecord, this);\n        // Deprecated API\n        this.list = deprecate_1.default(this._listRecords.bind(this), 'table.list', 'Airtable: `list()` is deprecated. Use `select()` instead.');\n        this.forEach = deprecate_1.default(this._forEachRecord.bind(this), 'table.forEach', 'Airtable: `forEach()` is deprecated. Use `select()` instead.');\n    }\n    Table.prototype._findRecordById = function (recordId, done) {\n        var record = new record_1.default(this, recordId);\n        record.fetch(done);\n    };\n    Table.prototype._selectRecords = function (params) {\n        if (params === void 0) {\n            params = {};\n        }\n        if (arguments.length > 1) {\n            console.warn(\"Airtable: `select` takes only one parameter, but it was given \" + arguments.length + \" parameters. Use `eachPage` or `firstPage` to fetch records.\");\n        }\n        if (isPlainObject_1.default(params)) {\n            var validationResults = query_1.default.validateParams(params);\n            if (validationResults.errors.length) {\n                var formattedErrors = validationResults.errors.map(function (error) {\n                    return \"  * \" + error;\n                });\n                throw new Error(\"Airtable: invalid parameters for `select`:\\n\" + formattedErrors.join('\\n'));\n            }\n            if (validationResults.ignoredKeys.length) {\n                console.warn(\"Airtable: the following parameters to `select` will be ignored: \" + validationResults.ignoredKeys.join(', '));\n            }\n            return new query_1.default(this, validationResults.validParams);\n        }\n        else {\n            throw new Error('Airtable: the parameter for `select` should be a plain object or undefined.');\n        }\n    };\n    Table.prototype._urlEncodedNameOrId = function () {\n        return this.id || encodeURIComponent(this.name);\n    };\n    Table.prototype._createRecords = function (recordsData, optionalParameters, done) {\n        var _this = this;\n        var isCreatingMultipleRecords = Array.isArray(recordsData);\n        if (!done) {\n            done = optionalParameters;\n            optionalParameters = {};\n        }\n        var requestData;\n        if (isCreatingMultipleRecords) {\n            requestData = __assign({ records: recordsData }, optionalParameters);\n        }\n        else {\n            requestData = __assign({ fields: recordsData }, optionalParameters);\n        }\n        this._base.runAction('post', \"/\" + this._urlEncodedNameOrId() + \"/\", {}, requestData, function (err, resp, body) {\n            if (err) {\n                done(err);\n                return;\n            }\n            var result;\n            if (isCreatingMultipleRecords) {\n                result = body.records.map(function (record) {\n                    return new record_1.default(_this, record.id, record);\n                });\n            }\n            else {\n                result = new record_1.default(_this, body.id, body);\n            }\n            done(null, result);\n        });\n    };\n    Table.prototype._updateRecords = function (isDestructiveUpdate, recordsDataOrRecordId, recordDataOrOptsOrDone, optsOrDone, done) {\n        var _this = this;\n        var opts;\n        if (Array.isArray(recordsDataOrRecordId)) {\n            var recordsData = recordsDataOrRecordId;\n            opts = isPlainObject_1.default(recordDataOrOptsOrDone) ? recordDataOrOptsOrDone : {};\n            done = (optsOrDone || recordDataOrOptsOrDone);\n            var method = isDestructiveUpdate ? 'put' : 'patch';\n            var requestData = __assign({ records: recordsData }, opts);\n            this._base.runAction(method, \"/\" + this._urlEncodedNameOrId() + \"/\", {}, requestData, function (err, resp, body) {\n                if (err) {\n                    done(err);\n                    return;\n                }\n                var result = body.records.map(function (record) {\n                    return new record_1.default(_this, record.id, record);\n                });\n                done(null, result);\n            });\n        }\n        else {\n            var recordId = recordsDataOrRecordId;\n            var recordData = recordDataOrOptsOrDone;\n            opts = isPlainObject_1.default(optsOrDone) ? optsOrDone : {};\n            done = (done || optsOrDone);\n            var record = new record_1.default(this, recordId);\n            if (isDestructiveUpdate) {\n                record.putUpdate(recordData, opts, done);\n            }\n            else {\n                record.patchUpdate(recordData, opts, done);\n            }\n        }\n    };\n    Table.prototype._destroyRecord = function (recordIdsOrId, done) {\n        var _this = this;\n        if (Array.isArray(recordIdsOrId)) {\n            var queryParams = { records: recordIdsOrId };\n            this._base.runAction('delete', \"/\" + this._urlEncodedNameOrId(), queryParams, null, function (err, response, results) {\n                if (err) {\n                    done(err);\n                    return;\n                }\n                var records = results.records.map(function (_a) {\n                    var id = _a.id;\n                    return new record_1.default(_this, id, null);\n                });\n                done(null, records);\n            });\n        }\n        else {\n            var record = new record_1.default(this, recordIdsOrId);\n            record.destroy(done);\n        }\n    };\n    Table.prototype._listRecords = function (pageSize, offset, opts, done) {\n        var _this = this;\n        if (!done) {\n            done = opts;\n            opts = {};\n        }\n        var pathAndParamsAsString = \"/\" + this._urlEncodedNameOrId() + \"?\" + object_to_query_param_string_1.default(opts);\n        var path;\n        var listRecordsParameters = {};\n        var listRecordsData = null;\n        var method;\n        if ((typeof opts !== 'function' && opts.method === 'post') ||\n            pathAndParamsAsString.length > query_params_1.URL_CHARACTER_LENGTH_LIMIT) {\n            // // There is a 16kb limit on GET requests. Since the URL makes up nearly all of the request size, we check for any requests that\n            // that come close to this limit and send it as a POST instead. Additionally, we'll send the request as a post if it is specified\n            // with the request params\n            path = \"/\" + this._urlEncodedNameOrId() + \"/listRecords\";\n            listRecordsData = __assign(__assign({}, (pageSize && { pageSize: pageSize })), (offset && { offset: offset }));\n            method = 'post';\n            var paramNames = Object.keys(opts);\n            for (var _i = 0, paramNames_1 = paramNames; _i < paramNames_1.length; _i++) {\n                var paramName = paramNames_1[_i];\n                if (query_params_1.shouldListRecordsParamBePassedAsParameter(paramName)) {\n                    listRecordsParameters[paramName] = opts[paramName];\n                }\n                else {\n                    listRecordsData[paramName] = opts[paramName];\n                }\n            }\n        }\n        else {\n            method = 'get';\n            path = \"/\" + this._urlEncodedNameOrId() + \"/\";\n            listRecordsParameters = __assign({ limit: pageSize, offset: offset }, opts);\n        }\n        this._base.runAction(method, path, listRecordsParameters, listRecordsData, function (err, response, results) {\n            if (err) {\n                done(err);\n                return;\n            }\n            var records = results.records.map(function (recordJson) {\n                return new record_1.default(_this, null, recordJson);\n            });\n            done(null, records, results.offset);\n        });\n    };\n    Table.prototype._forEachRecord = function (opts, callback, done) {\n        var _this = this;\n        if (arguments.length === 2) {\n            done = callback;\n            callback = opts;\n            opts = {};\n        }\n        var limit = Table.__recordsPerPageForIteration || 100;\n        var offset = null;\n        var nextPage = function () {\n            _this._listRecords(limit, offset, opts, function (err, page, newOffset) {\n                if (err) {\n                    done(err);\n                    return;\n                }\n                for (var index = 0; index < page.length; index++) {\n                    callback(page[index]);\n                }\n                if (newOffset) {\n                    offset = newOffset;\n                    nextPage();\n                }\n                else {\n                    done();\n                }\n            });\n        };\n        nextPage();\n    };\n    return Table;\n}());\nmodule.exports = Table;\n\n},{\"./callback_to_promise\":4,\"./deprecate\":5,\"./object_to_query_param_string\":11,\"./query\":13,\"./query_params\":14,\"./record\":15,\"lodash/isPlainObject\":89}],18:[function(require,module,exports){\n\"use strict\";\n/* eslint-enable @typescript-eslint/no-explicit-any */\nfunction check(fn, error) {\n    return function (value) {\n        if (fn(value)) {\n            return { pass: true };\n        }\n        else {\n            return { pass: false, error: error };\n        }\n    };\n}\ncheck.isOneOf = function isOneOf(options) {\n    return options.includes.bind(options);\n};\ncheck.isArrayOf = function (itemValidator) {\n    return function (value) {\n        return Array.isArray(value) && value.every(itemValidator);\n    };\n};\nmodule.exports = check;\n\n},{}],19:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nvar Emitter =\n/*#__PURE__*/\nfunction () {\n  function Emitter() {\n    _classCallCheck(this, Emitter);\n\n    Object.defineProperty(this, 'listeners', {\n      value: {},\n      writable: true,\n      configurable: true\n    });\n  }\n\n  _createClass(Emitter, [{\n    key: \"addEventListener\",\n    value: function addEventListener(type, callback) {\n      if (!(type in this.listeners)) {\n        this.listeners[type] = [];\n      }\n\n      this.listeners[type].push(callback);\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(type, callback) {\n      if (!(type in this.listeners)) {\n        return;\n      }\n\n      var stack = this.listeners[type];\n\n      for (var i = 0, l = stack.length; i < l; i++) {\n        if (stack[i] === callback) {\n          stack.splice(i, 1);\n          return;\n        }\n      }\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(event) {\n      var _this = this;\n\n      if (!(event.type in this.listeners)) {\n        return;\n      }\n\n      var debounce = function debounce(callback) {\n        setTimeout(function () {\n          return callback.call(_this, event);\n        });\n      };\n\n      var stack = this.listeners[event.type];\n\n      for (var i = 0, l = stack.length; i < l; i++) {\n        debounce(stack[i]);\n      }\n\n      return !event.defaultPrevented;\n    }\n  }]);\n\n  return Emitter;\n}();\n\nvar AbortSignal =\n/*#__PURE__*/\nfunction (_Emitter) {\n  _inherits(AbortSignal, _Emitter);\n\n  function AbortSignal() {\n    var _this2;\n\n    _classCallCheck(this, AbortSignal);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(AbortSignal).call(this)); // Some versions of babel does not transpile super() correctly for IE <= 10, if the parent\n    // constructor has failed to run, then \"this.listeners\" will still be undefined and then we call\n    // the parent constructor directly instead as a workaround. For general details, see babel bug:\n    // https://github.com/babel/babel/issues/3041\n    // This hack was added as a fix for the issue described here:\n    // https://github.com/Financial-Times/polyfill-library/pull/59#issuecomment-477558042\n\n    if (!_this2.listeners) {\n      Emitter.call(_assertThisInitialized(_this2));\n    } // Compared to assignment, Object.defineProperty makes properties non-enumerable by default and\n    // we want Object.keys(new AbortController().signal) to be [] for compat with the native impl\n\n\n    Object.defineProperty(_assertThisInitialized(_this2), 'aborted', {\n      value: false,\n      writable: true,\n      configurable: true\n    });\n    Object.defineProperty(_assertThisInitialized(_this2), 'onabort', {\n      value: null,\n      writable: true,\n      configurable: true\n    });\n    return _this2;\n  }\n\n  _createClass(AbortSignal, [{\n    key: \"toString\",\n    value: function toString() {\n      return '[object AbortSignal]';\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(event) {\n      if (event.type === 'abort') {\n        this.aborted = true;\n\n        if (typeof this.onabort === 'function') {\n          this.onabort.call(this, event);\n        }\n      }\n\n      _get(_getPrototypeOf(AbortSignal.prototype), \"dispatchEvent\", this).call(this, event);\n    }\n  }]);\n\n  return AbortSignal;\n}(Emitter);\nvar AbortController =\n/*#__PURE__*/\nfunction () {\n  function AbortController() {\n    _classCallCheck(this, AbortController);\n\n    // Compared to assignment, Object.defineProperty makes properties non-enumerable by default and\n    // we want Object.keys(new AbortController()) to be [] for compat with the native impl\n    Object.defineProperty(this, 'signal', {\n      value: new AbortSignal(),\n      writable: true,\n      configurable: true\n    });\n  }\n\n  _createClass(AbortController, [{\n    key: \"abort\",\n    value: function abort() {\n      var event;\n\n      try {\n        event = new Event('abort');\n      } catch (e) {\n        if (typeof document !== 'undefined') {\n          if (!document.createEvent) {\n            // For Internet Explorer 8:\n            event = document.createEventObject();\n            event.type = 'abort';\n          } else {\n            // For Internet Explorer 11:\n            event = document.createEvent('Event');\n            event.initEvent('abort', false, false);\n          }\n        } else {\n          // Fallback where document isn't available:\n          event = {\n            type: 'abort',\n            bubbles: false,\n            cancelable: false\n          };\n        }\n      }\n\n      this.signal.dispatchEvent(event);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return '[object AbortController]';\n    }\n  }]);\n\n  return AbortController;\n}();\n\nif (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n  // These are necessary to make sure that we get correct output for:\n  // Object.prototype.toString.call(new AbortController())\n  AbortController.prototype[Symbol.toStringTag] = 'AbortController';\n  AbortSignal.prototype[Symbol.toStringTag] = 'AbortSignal';\n}\n\nfunction polyfillNeeded(self) {\n  if (self.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL) {\n    console.log('__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill');\n    return true;\n  } // Note that the \"unfetch\" minimal fetch polyfill defines fetch() without\n  // defining window.Request, and this polyfill need to work on top of unfetch\n  // so the below feature detection needs the !self.AbortController part.\n  // The Request.prototype check is also needed because Safari versions 11.1.2\n  // up to and including 12.1.x has a window.AbortController present but still\n  // does NOT correctly implement abortable fetch:\n  // https://bugs.webkit.org/show_bug.cgi?id=174980#c2\n\n\n  return typeof self.Request === 'function' && !self.Request.prototype.hasOwnProperty('signal') || !self.AbortController;\n}\n\n/**\n * Note: the \"fetch.Request\" default value is available for fetch imported from\n * the \"node-fetch\" package and not in browsers. This is OK since browsers\n * will be importing umd-polyfill.js from that path \"self\" is passed the\n * decorator so the default value will not be used (because browsers that define\n * fetch also has Request). One quirky setup where self.fetch exists but\n * self.Request does not is when the \"unfetch\" minimal fetch polyfill is used\n * on top of IE11; for this case the browser will try to use the fetch.Request\n * default value which in turn will be undefined but then then \"if (Request)\"\n * will ensure that you get a patched fetch but still no Request (as expected).\n * @param {fetch, Request = fetch.Request}\n * @returns {fetch: abortableFetch, Request: AbortableRequest}\n */\n\nfunction abortableFetchDecorator(patchTargets) {\n  if ('function' === typeof patchTargets) {\n    patchTargets = {\n      fetch: patchTargets\n    };\n  }\n\n  var _patchTargets = patchTargets,\n      fetch = _patchTargets.fetch,\n      _patchTargets$Request = _patchTargets.Request,\n      NativeRequest = _patchTargets$Request === void 0 ? fetch.Request : _patchTargets$Request,\n      NativeAbortController = _patchTargets.AbortController,\n      _patchTargets$__FORCE = _patchTargets.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,\n      __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL = _patchTargets$__FORCE === void 0 ? false : _patchTargets$__FORCE;\n\n  if (!polyfillNeeded({\n    fetch: fetch,\n    Request: NativeRequest,\n    AbortController: NativeAbortController,\n    __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL: __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL\n  })) {\n    return {\n      fetch: fetch,\n      Request: Request\n    };\n  }\n\n  var Request = NativeRequest; // Note that the \"unfetch\" minimal fetch polyfill defines fetch() without\n  // defining window.Request, and this polyfill need to work on top of unfetch\n  // hence we only patch it if it's available. Also we don't patch it if signal\n  // is already available on the Request prototype because in this case support\n  // is present and the patching below can cause a crash since it assigns to\n  // request.signal which is technically a read-only property. This latter error\n  // happens when you run the main5.js node-fetch example in the repo\n  // \"abortcontroller-polyfill-examples\". The exact error is:\n  //   request.signal = init.signal;\n  //   ^\n  // TypeError: Cannot set property signal of #<Request> which has only a getter\n\n  if (Request && !Request.prototype.hasOwnProperty('signal') || __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL) {\n    Request = function Request(input, init) {\n      var signal;\n\n      if (init && init.signal) {\n        signal = init.signal; // Never pass init.signal to the native Request implementation when the polyfill has\n        // been installed because if we're running on top of a browser with a\n        // working native AbortController (i.e. the polyfill was installed due to\n        // __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL being set), then passing our\n        // fake AbortSignal to the native fetch will trigger:\n        // TypeError: Failed to construct 'Request': member signal is not of type AbortSignal.\n\n        delete init.signal;\n      }\n\n      var request = new NativeRequest(input, init);\n\n      if (signal) {\n        Object.defineProperty(request, 'signal', {\n          writable: false,\n          enumerable: false,\n          configurable: true,\n          value: signal\n        });\n      }\n\n      return request;\n    };\n\n    Request.prototype = NativeRequest.prototype;\n  }\n\n  var realFetch = fetch;\n\n  var abortableFetch = function abortableFetch(input, init) {\n    var signal = Request && Request.prototype.isPrototypeOf(input) ? input.signal : init ? init.signal : undefined;\n\n    if (signal) {\n      var abortError;\n\n      try {\n        abortError = new DOMException('Aborted', 'AbortError');\n      } catch (err) {\n        // IE 11 does not support calling the DOMException constructor, use a\n        // regular error object on it instead.\n        abortError = new Error('Aborted');\n        abortError.name = 'AbortError';\n      } // Return early if already aborted, thus avoiding making an HTTP request\n\n\n      if (signal.aborted) {\n        return Promise.reject(abortError);\n      } // Turn an event into a promise, reject it once `abort` is dispatched\n\n\n      var cancellation = new Promise(function (_, reject) {\n        signal.addEventListener('abort', function () {\n          return reject(abortError);\n        }, {\n          once: true\n        });\n      });\n\n      if (init && init.signal) {\n        // Never pass .signal to the native implementation when the polyfill has\n        // been installed because if we're running on top of a browser with a\n        // working native AbortController (i.e. the polyfill was installed due to\n        // __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL being set), then passing our\n        // fake AbortSignal to the native fetch will trigger:\n        // TypeError: Failed to execute 'fetch' on 'Window': member signal is not of type AbortSignal.\n        delete init.signal;\n      } // Return the fastest promise (don't need to wait for request to finish)\n\n\n      return Promise.race([cancellation, realFetch(input, init)]);\n    }\n\n    return realFetch(input, init);\n  };\n\n  return {\n    fetch: abortableFetch,\n    Request: Request\n  };\n}\n\nexports.AbortController = AbortController;\nexports.AbortSignal = AbortSignal;\nexports.abortableFetch = abortableFetchDecorator;\n\n},{}],20:[function(require,module,exports){\n\n},{}],21:[function(require,module,exports){\nvar hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n\n},{\"./_hashClear\":46,\"./_hashDelete\":47,\"./_hashGet\":48,\"./_hashHas\":49,\"./_hashSet\":50}],22:[function(require,module,exports){\nvar listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n\n},{\"./_listCacheClear\":56,\"./_listCacheDelete\":57,\"./_listCacheGet\":58,\"./_listCacheHas\":59,\"./_listCacheSet\":60}],23:[function(require,module,exports){\nvar getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n\n},{\"./_getNative\":42,\"./_root\":72}],24:[function(require,module,exports){\nvar mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n\n},{\"./_mapCacheClear\":61,\"./_mapCacheDelete\":62,\"./_mapCacheGet\":63,\"./_mapCacheHas\":64,\"./_mapCacheSet\":65}],25:[function(require,module,exports){\nvar root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n\n},{\"./_root\":72}],26:[function(require,module,exports){\nvar baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n\n},{\"./_baseTimes\":35,\"./_isIndex\":51,\"./isArguments\":78,\"./isArray\":79,\"./isBuffer\":82,\"./isTypedArray\":92}],27:[function(require,module,exports){\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n\n},{}],28:[function(require,module,exports){\nvar eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n\n},{\"./eq\":76}],29:[function(require,module,exports){\nvar castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n\n},{\"./_castPath\":38,\"./_toKey\":74}],30:[function(require,module,exports){\nvar Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n\n},{\"./_Symbol\":25,\"./_getRawTag\":44,\"./_objectToString\":70}],31:[function(require,module,exports){\nvar baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n\n},{\"./_baseGetTag\":30,\"./isObjectLike\":88}],32:[function(require,module,exports){\nvar isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n\n},{\"./_isMasked\":54,\"./_toSource\":75,\"./isFunction\":83,\"./isObject\":87}],33:[function(require,module,exports){\nvar baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n\n},{\"./_baseGetTag\":30,\"./isLength\":84,\"./isObjectLike\":88}],34:[function(require,module,exports){\nvar isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n\n},{\"./_isPrototype\":55,\"./_nativeKeys\":68}],35:[function(require,module,exports){\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n\n},{}],36:[function(require,module,exports){\nvar Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n\n},{\"./_Symbol\":25,\"./_arrayMap\":27,\"./isArray\":79,\"./isSymbol\":91}],37:[function(require,module,exports){\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n\n},{}],38:[function(require,module,exports){\nvar isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n\n},{\"./_isKey\":52,\"./_stringToPath\":73,\"./isArray\":79,\"./toString\":96}],39:[function(require,module,exports){\nvar root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n\n},{\"./_root\":72}],40:[function(require,module,exports){\n(function (global){\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n\n}).call(this,typeof __webpack_require__.g !== \"undefined\" ? __webpack_require__.g : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],41:[function(require,module,exports){\nvar isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n\n},{\"./_isKeyable\":53}],42:[function(require,module,exports){\nvar baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n\n},{\"./_baseIsNative\":32,\"./_getValue\":45}],43:[function(require,module,exports){\nvar overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n\n},{\"./_overArg\":71}],44:[function(require,module,exports){\nvar Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n\n},{\"./_Symbol\":25}],45:[function(require,module,exports){\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n\n},{}],46:[function(require,module,exports){\nvar nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n\n},{\"./_nativeCreate\":67}],47:[function(require,module,exports){\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n\n},{}],48:[function(require,module,exports){\nvar nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n\n},{\"./_nativeCreate\":67}],49:[function(require,module,exports){\nvar nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n\n},{\"./_nativeCreate\":67}],50:[function(require,module,exports){\nvar nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n\n},{\"./_nativeCreate\":67}],51:[function(require,module,exports){\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n\n},{}],52:[function(require,module,exports){\nvar isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n\n},{\"./isArray\":79,\"./isSymbol\":91}],53:[function(require,module,exports){\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n\n},{}],54:[function(require,module,exports){\nvar coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n\n},{\"./_coreJsData\":39}],55:[function(require,module,exports){\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n\n},{}],56:[function(require,module,exports){\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n\n},{}],57:[function(require,module,exports){\nvar assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n\n},{\"./_assocIndexOf\":28}],58:[function(require,module,exports){\nvar assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n\n},{\"./_assocIndexOf\":28}],59:[function(require,module,exports){\nvar assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n\n},{\"./_assocIndexOf\":28}],60:[function(require,module,exports){\nvar assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n\n},{\"./_assocIndexOf\":28}],61:[function(require,module,exports){\nvar Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n\n},{\"./_Hash\":21,\"./_ListCache\":22,\"./_Map\":23}],62:[function(require,module,exports){\nvar getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n\n},{\"./_getMapData\":41}],63:[function(require,module,exports){\nvar getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n\n},{\"./_getMapData\":41}],64:[function(require,module,exports){\nvar getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n\n},{\"./_getMapData\":41}],65:[function(require,module,exports){\nvar getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n\n},{\"./_getMapData\":41}],66:[function(require,module,exports){\nvar memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n\n},{\"./memoize\":94}],67:[function(require,module,exports){\nvar getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n\n},{\"./_getNative\":42}],68:[function(require,module,exports){\nvar overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n\n},{\"./_overArg\":71}],69:[function(require,module,exports){\nvar freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n\n},{\"./_freeGlobal\":40}],70:[function(require,module,exports){\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n\n},{}],71:[function(require,module,exports){\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n\n},{}],72:[function(require,module,exports){\nvar freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n\n},{\"./_freeGlobal\":40}],73:[function(require,module,exports){\nvar memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n\n},{\"./_memoizeCapped\":66}],74:[function(require,module,exports){\nvar isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n\n},{\"./isSymbol\":91}],75:[function(require,module,exports){\n/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n\n},{}],76:[function(require,module,exports){\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n\n},{}],77:[function(require,module,exports){\nvar baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n\n},{\"./_baseGet\":29}],78:[function(require,module,exports){\nvar baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n\n},{\"./_baseIsArguments\":31,\"./isObjectLike\":88}],79:[function(require,module,exports){\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n\n},{}],80:[function(require,module,exports){\nvar isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n\n},{\"./isFunction\":83,\"./isLength\":84}],81:[function(require,module,exports){\nvar baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]';\n\n/**\n * Checks if `value` is classified as a boolean primitive or object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n * @example\n *\n * _.isBoolean(false);\n * // => true\n *\n * _.isBoolean(null);\n * // => false\n */\nfunction isBoolean(value) {\n  return value === true || value === false ||\n    (isObjectLike(value) && baseGetTag(value) == boolTag);\n}\n\nmodule.exports = isBoolean;\n\n},{\"./_baseGetTag\":30,\"./isObjectLike\":88}],82:[function(require,module,exports){\nvar root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n\n},{\"./_root\":72,\"./stubFalse\":95}],83:[function(require,module,exports){\nvar baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n\n},{\"./_baseGetTag\":30,\"./isObject\":87}],84:[function(require,module,exports){\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n\n},{}],85:[function(require,module,exports){\n/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n * @example\n *\n * _.isNil(null);\n * // => true\n *\n * _.isNil(void 0);\n * // => true\n *\n * _.isNil(NaN);\n * // => false\n */\nfunction isNil(value) {\n  return value == null;\n}\n\nmodule.exports = isNil;\n\n},{}],86:[function(require,module,exports){\nvar baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n\n},{\"./_baseGetTag\":30,\"./isObjectLike\":88}],87:[function(require,module,exports){\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n\n},{}],88:[function(require,module,exports){\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n},{}],89:[function(require,module,exports){\nvar baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n\n},{\"./_baseGetTag\":30,\"./_getPrototype\":43,\"./isObjectLike\":88}],90:[function(require,module,exports){\nvar baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n\n},{\"./_baseGetTag\":30,\"./isArray\":79,\"./isObjectLike\":88}],91:[function(require,module,exports){\nvar baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n\n},{\"./_baseGetTag\":30,\"./isObjectLike\":88}],92:[function(require,module,exports){\nvar baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n\n},{\"./_baseIsTypedArray\":33,\"./_baseUnary\":37,\"./_nodeUtil\":69}],93:[function(require,module,exports){\nvar arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n\n},{\"./_arrayLikeKeys\":26,\"./_baseKeys\":34,\"./isArrayLike\":80}],94:[function(require,module,exports){\nvar MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n\n},{\"./_MapCache\":24}],95:[function(require,module,exports){\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n\n},{}],96:[function(require,module,exports){\nvar baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n\n},{\"./_baseToString\":36}],\"airtable\":[function(require,module,exports){\n\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar base_1 = __importDefault(require(\"./base\"));\nvar record_1 = __importDefault(require(\"./record\"));\nvar table_1 = __importDefault(require(\"./table\"));\nvar airtable_error_1 = __importDefault(require(\"./airtable_error\"));\nvar Airtable = /** @class */ (function () {\n    function Airtable(opts) {\n        if (opts === void 0) { opts = {}; }\n        var defaultConfig = Airtable.default_config();\n        var apiVersion = opts.apiVersion || Airtable.apiVersion || defaultConfig.apiVersion;\n        Object.defineProperties(this, {\n            _apiKey: {\n                value: opts.apiKey || Airtable.apiKey || defaultConfig.apiKey,\n            },\n            _apiVersion: {\n                value: apiVersion,\n            },\n            _apiVersionMajor: {\n                value: apiVersion.split('.')[0],\n            },\n            _customHeaders: {\n                value: opts.customHeaders || {},\n            },\n            _endpointUrl: {\n                value: opts.endpointUrl || Airtable.endpointUrl || defaultConfig.endpointUrl,\n            },\n            _noRetryIfRateLimited: {\n                value: opts.noRetryIfRateLimited ||\n                    Airtable.noRetryIfRateLimited ||\n                    defaultConfig.noRetryIfRateLimited,\n            },\n            _requestTimeout: {\n                value: opts.requestTimeout || Airtable.requestTimeout || defaultConfig.requestTimeout,\n            },\n        });\n        if (!this._apiKey) {\n            throw new Error('An API key is required to connect to Airtable');\n        }\n    }\n    Airtable.prototype.base = function (baseId) {\n        return base_1.default.createFunctor(this, baseId);\n    };\n    Airtable.default_config = function () {\n        return {\n            endpointUrl:  false || 'https://api.airtable.com',\n            apiVersion: '0.1.0',\n            apiKey: \"\",\n            noRetryIfRateLimited: false,\n            requestTimeout: 300 * 1000,\n        };\n    };\n    Airtable.configure = function (_a) {\n        var apiKey = _a.apiKey, endpointUrl = _a.endpointUrl, apiVersion = _a.apiVersion, noRetryIfRateLimited = _a.noRetryIfRateLimited, requestTimeout = _a.requestTimeout;\n        Airtable.apiKey = apiKey;\n        Airtable.endpointUrl = endpointUrl;\n        Airtable.apiVersion = apiVersion;\n        Airtable.noRetryIfRateLimited = noRetryIfRateLimited;\n        Airtable.requestTimeout = requestTimeout;\n    };\n    Airtable.base = function (baseId) {\n        return new Airtable().base(baseId);\n    };\n    Airtable.Base = base_1.default;\n    Airtable.Record = record_1.default;\n    Airtable.Table = table_1.default;\n    Airtable.Error = airtable_error_1.default;\n    return Airtable;\n}());\nmodule.exports = Airtable;\n\n},{\"./airtable_error\":2,\"./base\":3,\"./record\":15,\"./table\":17}]},{},[\"airtable\"])(\"airtable\")\n});\n\n\n//# sourceURL=webpack://contract-builder/./node_modules/airtable/lib/airtable.umd.js?");

/***/ }),

/***/ "./node_modules/micromodal/dist/micromodal.es.js":
/*!*******************************************************!*\
  !*** ./node_modules/micromodal/dist/micromodal.es.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var n,i,a,r,s,l=(n=[\"a[href]\",\"area[href]\",'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])',\"select:not([disabled]):not([aria-hidden])\",\"textarea:not([disabled]):not([aria-hidden])\",\"button:not([disabled]):not([aria-hidden])\",\"iframe\",\"object\",\"embed\",\"[contenteditable]\",'[tabindex]:not([tabindex^=\"-\"])'],i=function(){function o(e){var n=e.targetModal,i=e.triggers,a=void 0===i?[]:i,r=e.onShow,s=void 0===r?function(){}:r,l=e.onClose,c=void 0===l?function(){}:l,d=e.openTrigger,u=void 0===d?\"data-micromodal-trigger\":d,f=e.closeTrigger,h=void 0===f?\"data-micromodal-close\":f,v=e.openClass,g=void 0===v?\"is-open\":v,m=e.disableScroll,b=void 0!==m&&m,y=e.disableFocus,p=void 0!==y&&y,w=e.awaitCloseAnimation,E=void 0!==w&&w,k=e.awaitOpenAnimation,M=void 0!==k&&k,A=e.debugMode,C=void 0!==A&&A;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),this.modal=document.getElementById(n),this.config={debugMode:C,disableScroll:b,openTrigger:u,closeTrigger:h,openClass:g,onShow:s,onClose:c,awaitCloseAnimation:E,awaitOpenAnimation:M,disableFocus:p},a.length>0&&this.registerTriggers.apply(this,t(a)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var i,a,r;return i=o,(a=[{key:\"registerTriggers\",value:function(){for(var e=this,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];o.filter(Boolean).forEach((function(t){t.addEventListener(\"click\",(function(t){return e.showModal(t)}))}))}},{key:\"showModal\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute(\"aria-hidden\",\"false\"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour(\"disable\"),this.addEventListeners(),this.config.awaitOpenAnimation){var o=function t(){e.modal.removeEventListener(\"animationend\",t,!1),e.setFocusToFirstNode()};this.modal.addEventListener(\"animationend\",o,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,t)}},{key:\"closeModal\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.modal;if(this.modal.setAttribute(\"aria-hidden\",\"true\"),this.removeEventListeners(),this.scrollBehaviour(\"enable\"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,e),this.config.awaitCloseAnimation){var o=this.config.openClass;this.modal.addEventListener(\"animationend\",(function e(){t.classList.remove(o),t.removeEventListener(\"animationend\",e,!1)}),!1)}else t.classList.remove(this.config.openClass)}},{key:\"closeModalById\",value:function(e){this.modal=document.getElementById(e),this.modal&&this.closeModal()}},{key:\"scrollBehaviour\",value:function(e){if(this.config.disableScroll){var t=document.querySelector(\"body\");switch(e){case\"enable\":Object.assign(t.style,{overflow:\"\"});break;case\"disable\":Object.assign(t.style,{overflow:\"hidden\"})}}}},{key:\"addEventListeners\",value:function(){this.modal.addEventListener(\"touchstart\",this.onClick),this.modal.addEventListener(\"click\",this.onClick),document.addEventListener(\"keydown\",this.onKeydown)}},{key:\"removeEventListeners\",value:function(){this.modal.removeEventListener(\"touchstart\",this.onClick),this.modal.removeEventListener(\"click\",this.onClick),document.removeEventListener(\"keydown\",this.onKeydown)}},{key:\"onClick\",value:function(e){(e.target.hasAttribute(this.config.closeTrigger)||e.target.parentNode.hasAttribute(this.config.closeTrigger))&&(e.preventDefault(),e.stopPropagation(),this.closeModal(e))}},{key:\"onKeydown\",value:function(e){27===e.keyCode&&this.closeModal(e),9===e.keyCode&&this.retainFocus(e)}},{key:\"getFocusableNodes\",value:function(){var e=this.modal.querySelectorAll(n);return Array.apply(void 0,t(e))}},{key:\"setFocusToFirstNode\",value:function(){var e=this;if(!this.config.disableFocus){var t=this.getFocusableNodes();if(0!==t.length){var o=t.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));o.length>0&&o[0].focus(),0===o.length&&t[0].focus()}}}},{key:\"retainFocus\",value:function(e){var t=this.getFocusableNodes();if(0!==t.length)if(t=t.filter((function(e){return null!==e.offsetParent})),this.modal.contains(document.activeElement)){var o=t.indexOf(document.activeElement);e.shiftKey&&0===o&&(t[t.length-1].focus(),e.preventDefault()),!e.shiftKey&&t.length>0&&o===t.length-1&&(t[0].focus(),e.preventDefault())}else t[0].focus()}}])&&e(i.prototype,a),r&&e(i,r),o}(),a=null,r=function(e){if(!document.getElementById(e))return console.warn(\"MicroModal: ❗Seems like you have missed %c'\".concat(e,\"'\"),\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"ID somewhere in your code. Refer example below to resolve it.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<div class=\"modal\" id=\"'.concat(e,'\"></div>')),!1},s=function(e,t){if(function(e){e.length<=0&&(console.warn(\"MicroModal: ❗Please specify at least one %c'micromodal-trigger'\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",\"data attribute.\"),console.warn(\"%cExample:\",\"background-color: #f8f9fa;color: #50596c;font-weight: bold;\",'<a href=\"#\" data-micromodal-trigger=\"my-modal\"></a>'))}(e),!t)return!0;for(var o in t)r(o);return!0},{init:function(e){var o=Object.assign({},{openTrigger:\"data-micromodal-trigger\"},e),n=t(document.querySelectorAll(\"[\".concat(o.openTrigger,\"]\"))),r=function(e,t){var o=[];return e.forEach((function(e){var n=e.attributes[t].value;void 0===o[n]&&(o[n]=[]),o[n].push(e)})),o}(n,o.openTrigger);if(!0!==o.debugMode||!1!==s(n,r))for(var l in r){var c=r[l];o.targetModal=l,o.triggers=t(c),a=new i(o)}},show:function(e,t){var o=t||{};o.targetModal=e,!0===o.debugMode&&!1===r(e)||(a&&a.removeEventListeners(),(a=new i(o)).showModal())},close:function(e){e?a.closeModalById(e):a.closeModal()}});\"undefined\"!=typeof window&&(window.MicroModal=l);/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (l);\n\n\n//# sourceURL=webpack://contract-builder/./node_modules/micromodal/dist/micromodal.es.js?");

/***/ }),

/***/ "./src/airtable/template_data.js":
/*!***************************************!*\
  !*** ./src/airtable/template_data.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchTemplateData: () => (/* binding */ fetchTemplateData)\n/* harmony export */ });\n/* harmony import */ var airtable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! airtable */ \"./node_modules/airtable/lib/airtable.umd.js\");\n/* harmony import */ var airtable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(airtable__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _dialog_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dialog/dialog */ \"./src/dialog/dialog.js\");\n\n\n\nconst errorMessage =\n    'Un problème est survenu lors de la récupération du contrat. Veuillez contacter un administrateur.';\n\n/**\n * Fetches template data from an Airtable base.\n *\n * @function fetchTemplateData\n * @async\n * @param {string} baseID - The ID of the Airtable base.\n * @param {string} templateName - The name of the template to fetch.\n * @param {string} apiKey - The Airtable API key for authentication.\n * @returns {Object} - An object containing JSON data, parsed HTML template content and the payment link.\n * @throws {Error} - Throws an error if the template or base is unknown, if \"JSON\" is missing in the template, or if \"Template Content\" field is missing.\n */\nconst fetchTemplateData = async (baseID, templateName, apiKey) => {\n    const airtableBase = new (airtable__WEBPACK_IMPORTED_MODULE_0___default())({\n        apiKey: apiKey,\n    }).base(baseID);\n\n    const templateRecords = await airtableBase('Template')\n        .select({\n            filterByFormula: `{Nom} = \"${templateName}\"`,\n            maxRecords: 1,\n        })\n        .firstPage();\n\n    if (!templateRecords || templateRecords.length < 1) {\n        (0,_dialog_dialog__WEBPACK_IMPORTED_MODULE_1__.setDialogText)(errorMessage);\n        throw new Error('Unknown contract or base');\n    }\n\n    const templateRecord = templateRecords[0];\n\n    if (!templateExists(templateRecord)) {\n        (0,_dialog_dialog__WEBPACK_IMPORTED_MODULE_1__.setDialogText)(errorMessage);\n        throw new Error('Missing \"JSON\" in template.');\n    }\n\n    const jsonData = JSON.parse(templateRecord.fields['JSON'][0]);\n\n    if (!templateRecord.fields || !templateRecord.fields['Template Content']) {\n        (0,_dialog_dialog__WEBPACK_IMPORTED_MODULE_1__.setDialogText)(errorMessage);\n        throw new Error('Field \"Template Content\" is missing in the template.');\n    }\n\n    if (!templateRecord.fields['Stripe Payment Link']) {\n        (0,_dialog_dialog__WEBPACK_IMPORTED_MODULE_1__.setDialogText)(errorMessage);\n        throw new Error('Field \"Stripe Payment Link\" is missing in the template.');\n    }\n\n    const htmlTemplateContent = templateRecord.fields['Template Content'];\n    const parsedTemplateDOM = new DOMParser().parseFromString(htmlTemplateContent, 'text/html');\n    const paymentLink = templateRecord.fields['Stripe Payment Link'];\n\n    return { jsonData, parsedTemplateDOM, paymentLink };\n};\n\n/**\n * Checks if the template record contains a valid \"JSON\" field.\n *\n * @function templateExists\n * @param {Object} templateRecord - The Airtable template record.\n * @returns {boolean} - Returns true if the \"JSON\" field exists and contains data, otherwise false.\n */\nconst templateExists = (templateRecord) => {\n    return (\n        templateRecord.fields && templateRecord.fields['JSON'] && templateRecord.fields['JSON'][0]\n    );\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/airtable/template_data.js?");

/***/ }),

/***/ "./src/dialog/dialog.js":
/*!******************************!*\
  !*** ./src/dialog/dialog.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeDialog: () => (/* binding */ closeDialog),\n/* harmony export */   initDialog: () => (/* binding */ initDialog),\n/* harmony export */   setDialogContent: () => (/* binding */ setDialogContent),\n/* harmony export */   setDialogText: () => (/* binding */ setDialogText),\n/* harmony export */   setTitle: () => (/* binding */ setTitle),\n/* harmony export */   showDialog: () => (/* binding */ showDialog)\n/* harmony export */ });\n/* harmony import */ var micromodal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! micromodal */ \"./node_modules/micromodal/dist/micromodal.es.js\");\n\n\nconst initDialog = () => {\n    micromodal__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init({\n        onClose: (modal) => console.info(`${modal.id} is hidden`),\n        closeTrigger: 'data-custom-close',\n        openClass: 'is-open',\n        disableScroll: true,\n        disableFocus: false,\n        awaitOpenAnimation: false,\n        awaitCloseAnimation: false,\n        debugMode: false,\n    });\n};\n\nconst showDialog = () => {\n    micromodal__WEBPACK_IMPORTED_MODULE_0__[\"default\"].show('dialog');\n};\n\nconst closeDialog = () => {\n    micromodal__WEBPACK_IMPORTED_MODULE_0__[\"default\"].close('dialog');\n};\n\nconst setTitle = (title) => {\n    document.getElementById('dialog-title').innerText = title;\n};\n\nconst setDialogText = (text) => {\n    const modalContent = document.getElementById('modal-content');\n    modalContent.replaceChildren('');\n    modalContent.innerText = text;\n};\n\nconst setDialogContent = (node) => {\n    document.getElementById('modal-content').replaceChildren('');\n    document.getElementById('modal-content').appendChild(node);\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/dialog/dialog.js?");

/***/ }),

/***/ "./src/form/basic/input.js":
/*!*********************************!*\
  !*** ./src/form/basic/input.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createInput: () => (/* binding */ createInput)\n/* harmony export */ });\n/**\n * Factory function for creating an input element with specified attributes.\n *\n * @function createInput\n * @param {string} type - The type attribute for the input element.\n * @param {string} name - The name attribute for the input element.\n * @param {string} id - The id attribute for the input element.\n * @param {string} value - The value attribute for the input element.\n * @param {Object} rules - Optional rules object containing min and max values.\n * @returns {HTMLInputElement} The created input element.\n */\nconst createInput = (type, name, id, value, rules) => {\n    // Create a new input element\n    var input = document.createElement('input');\n    input.type = type;\n    input.name = name;\n    input.id = id;\n    input.value = value;\n\n    // Add 'form-input' class for styling, but only for non-radio input types\n    if (type !== 'radio') {\n        input.classList.add('form-input');\n    }\n\n    // Apply rules only if they are defined\n    if (rules === undefined) {\n        return input;\n    }\n\n    // Apply rules\n    if (rules.min != null) input.addEventListener('change', min(rules.min));\n    if (rules.max != null) input.addEventListener('change', max(rules.max));\n    if (rules.case != null) input.addEventListener('change', toCase(rules.case));\n    if (rules.number_format != null)\n        input.addEventListener('change', numberFormat(rules.number_format));\n\n    return input;\n};\n\nconst min = (minValue) => {\n    return (event) => {\n        const input = event.target;\n        if (parseInt(input.value) < minValue) {\n            input.value = minValue;\n        }\n    };\n};\n\nconst max = (maxValue) => {\n    return (event) => {\n        const input = event.target;\n        if (parseInt(input.value) > maxValue) {\n            input.value = maxValue;\n        }\n    };\n};\n\nconst toCase = (caseName) => {\n    switch (caseName) {\n        case 'Uppercase':\n            return (event) => {\n                const input = event.target;\n                input.value = input.value.toUpperCase();\n            };\n        case 'FirstLetterUppercase':\n            return (event) => {\n                const input = event.target;\n                input.value = input.value\n                    ? input.value[0].toUpperCase() + input.value.slice(1)\n                    : '';\n            };\n        default:\n            return () => {};\n    }\n};\n\nconst numberFormat = (numberFormat) => {\n    switch (numberFormat) {\n        case 'decimal':\n            return (event) => {\n                const input = event.target;\n                const decimalValue = parseFloat(input.value);\n                if (decimalValue) {\n                    input.value = decimalValue;\n                }\n            };\n        case 'integer':\n            return (event) => {\n                const input = event.target;\n                const integer = parseInt(input.value);\n                if (integer) {\n                    input.value = integer;\n                }\n            };\n        default:\n            return;\n    }\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/basic/input.js?");

/***/ }),

/***/ "./src/form/basic/label.js":
/*!*********************************!*\
  !*** ./src/form/basic/label.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createLabel: () => (/* binding */ createLabel)\n/* harmony export */ });\n/**\n * Factory function for creating a label element with specified attributes.\n * If the description is provided it will add a tooltip containing the description\n * to the label.\n *\n * @function createLabel\n * @param {string} htmlFor - The for attribute for the label element.\n * @param {string} text - The text content for the label element.\n * @param {string} description - The optionnal description of the input\n * @returns {HTMLLabelElement} The created label element.\n */\nconst createLabel = (htmlFor, text, description) => {\n    const div = document.createElement('div');\n    div.classList.add('input-label-container');\n\n    // Create a new label element\n    const label = document.createElement('label');\n    label.classList.add('form-label'); // Add 'form-label' class for styling\n\n    // Set the 'for' attribute and text content based on the provided parameters\n    label.htmlFor = htmlFor;\n    label.innerText = text;\n\n    div.appendChild(label);\n\n    if (!description) {\n        return div;\n    }\n\n    div.appendChild(createDescription(description));\n    return div;\n};\n\nconst createDescription = (descriptionText) => {\n    const span = document.createElement('span');\n    span.innerText = 'i';\n\n    const description = document.createElement('span');\n    description.innerText = descriptionText;\n    description.classList.add('input-description');\n\n    span.appendChild(description);\n    return span;\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/basic/label.js?");

/***/ }),

/***/ "./src/form/basic/parent_container.js":
/*!********************************************!*\
  !*** ./src/form/basic/parent_container.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createParentContainer: () => (/* binding */ createParentContainer)\n/* harmony export */ });\n/**\n * Creates and returns a parent container element with the specified ID and optional CSS classes.\n * The ID is prefixed with 'container_' to maintain uniqueness.\n *\n * @function createParentContainer\n * @param {string} id - The ID for the parent container.\n * @param {string[]} cssClasses - Optional array of CSS classes to be applied to the container.\n * @returns {HTMLDivElement} The created parent container element.\n */\nconst createParentContainer = (id, cssClasses) => {\n    const container = document.createElement('div');\n    container.id = `container_${id}`;\n\n    if (cssClasses != null) {\n        container.classList.add(...cssClasses);\n    }\n\n    return container;\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/basic/parent_container.js?");

/***/ }),

/***/ "./src/form/basic/select.js":
/*!**********************************!*\
  !*** ./src/form/basic/select.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSelect: () => (/* binding */ createSelect)\n/* harmony export */ });\n/**\n * Factory function for creating a select element with options based on provided choices.\n *\n * @function createSelect\n * @param {string} id - The id attribute for the select element.\n * @param {Array<string>} choices - An array of string choices for the options.\n * @returns {HTMLSelectElement} The created select element.\n */\nconst createSelect = (id, choices) => {\n    // Create a new select element\n    const select = document.createElement('select');\n    select.id = id;\n    select.name = id;\n\n    // Add options to the select element based on the provided choices array\n    choices.forEach((choice) => {\n        const option = document.createElement('option');\n        option.innerText = choice;\n        option.value = choice;\n        select.appendChild(option);\n    });\n\n    return select;\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/basic/select.js?");

/***/ }),

/***/ "./src/form/components/array.js":
/*!**************************************!*\
  !*** ./src/form/components/array.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ArrayElement: () => (/* binding */ ArrayElement),\n/* harmony export */   ArrayFactory: () => (/* binding */ ArrayFactory)\n/* harmony export */ });\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../store/store */ \"./src/store/store.js\");\n/* harmony import */ var _basic_parent_container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../basic/parent_container */ \"./src/form/basic/parent_container.js\");\n/* harmony import */ var _utils_infer_id__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/infer_id */ \"./src/form/utils/infer_id.js\");\n/* harmony import */ var _computed_factory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./computed/factory */ \"./src/form/components/computed/factory.js\");\n/* harmony import */ var _input_with_label__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./input_with_label */ \"./src/form/components/input_with_label.js\");\n\n\n\n\n\n\nclass ArrayElement extends HTMLElement {\n    constructor(columns, computations, total, label, suffix) {\n        super();\n        this._columns = columns;\n        this._computations = computations;\n        this._totalConfiguration = total;\n        this._summaryText = label;\n        this._suffix = suffix;\n        this._rowsCounter = 0;\n        this._buttonReference = null;\n        this._totalInputRef = null;\n\n        // Exposed state of the array, each row is an array of column's elements id.\n        this._activeRows = [];\n        this._rendered = false;\n    }\n\n    render() {\n        this._rendered = true;\n\n        const button = this.createRowButton();\n        this._buttonReference = button;\n\n        const total = this.createTotal();\n        this._totalInputRef = total;\n\n        this.appendChild(button);\n        this.appendChild(total);\n\n        this.addEventListener('contract-generated', () => {\n            this.generateFromActiveRows();\n        });\n    }\n\n    createRow(internalSuffix, updateActiveRows) {\n        const details = document.createElement('details');\n        details.id = `row_${this.id}_${internalSuffix}`;\n        this.insertBefore(details, this._buttonReference);\n\n        const summary = document.createElement('summary');\n        summary.innerText = this._summaryText.replace('$x', this._rowsCounter);\n\n        details.appendChild(summary);\n        details.appendChild(this.createColumns(internalSuffix, updateActiveRows));\n        details.appendChild(this.computations(internalSuffix));\n        details.appendChild(this.createDeleteRowButton(details.id, internalSuffix));\n    }\n\n    createColumns(internalSuffix, updateActiveRows) {\n        const containerId = `col_${this.id}_${internalSuffix}`;\n        const container = (0,_basic_parent_container__WEBPACK_IMPORTED_MODULE_1__.createParentContainer)(containerId);\n\n        const row = [];\n\n        this._columns.forEach((column) => {\n            const columnClone = Object.assign({}, column);\n            columnClone.id = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_2__.inferId)(columnClone.id, this._suffix);\n            const inputWithLabel = (0,_input_with_label__WEBPACK_IMPORTED_MODULE_4__.InputWithLabelFactory)(columnClone, internalSuffix, true);\n            container.appendChild(inputWithLabel);\n            row.push(inputWithLabel.lastChild.id);\n        });\n\n        if (updateActiveRows) this._activeRows.push(row);\n        return container;\n    }\n\n    computations(internalSuffix) {\n        const containerId = `computations_${this.id}_${internalSuffix}`;\n        const container = (0,_basic_parent_container__WEBPACK_IMPORTED_MODULE_1__.createParentContainer)(containerId);\n        const computationsClone = JSON.parse(JSON.stringify(this._computations));\n\n        computationsClone.forEach((computationElementConf) => {\n            computationElementConf.schema.references.forEach((ref) => {\n                ref.target = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_2__.inferId)(ref.target, this._suffix);\n            });\n            computationElementConf.id = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_2__.inferId)(computationElementConf.id, this._suffix);\n            const computedElement = (0,_computed_factory__WEBPACK_IMPORTED_MODULE_3__.ComputedFactory)(computationElementConf, internalSuffix, true);\n            container.appendChild(computedElement);\n        });\n\n        return container;\n    }\n\n    createTotal() {\n        const confClone = JSON.parse(JSON.stringify(this._totalConfiguration));\n        confClone.schema.references.forEach((ref) => {\n            ref.target = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_2__.inferId)(ref.target, this._suffix);\n            ref.array = this.id;\n        });\n\n        const total = (0,_computed_factory__WEBPACK_IMPORTED_MODULE_3__.ComputedFactory)(confClone, this._suffix);\n        return total;\n    }\n\n    createRowButton() {\n        const button = document.createElement('button');\n        button.type = 'button';\n        button.innerText = 'Ajouter un item';\n\n        button.addEventListener('click', () => {\n            this._rowsCounter += 1;\n            this.createRow(crypto.randomUUID(), true);\n            _store_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].save(this.id, JSON.stringify(this._activeRows));\n            this.dispatchEvent(new Event('newRow'));\n        });\n\n        return button;\n    }\n\n    createDeleteRowButton(detailsID, internalSuffix) {\n        const deleteButton = document.createElement('button');\n        deleteButton.innerText = 'Supprimer';\n        deleteButton.type = 'button';\n\n        deleteButton.addEventListener('click', () => {\n            const detailsToDelete = document.getElementById(detailsID);\n            this.removeChild(detailsToDelete);\n\n            const targetRowIndex = this._activeRows.findIndex((row) => {\n                for (let i = 0; i < row.length; i++) {\n                    if (row[i].includes(internalSuffix)) {\n                        this.deleteRowInLocalStorage(row);\n                        return true;\n                    }\n                    return false;\n                }\n            });\n\n            this._activeRows.splice(targetRowIndex, 1);\n            this._rowsCounter -= 1;\n            this.updateSummaryText();\n            _store_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].save(this.id, JSON.stringify(this._activeRows));\n            this.dispatchEvent(new Event('rowDeleted'));\n        });\n\n        const buttonRow = document.createElement('div');\n        buttonRow.style = 'display:flex; flex-direction:row; justify-content:end';\n\n        buttonRow.appendChild(deleteButton);\n\n        return buttonRow;\n    }\n\n    generateFromActiveRows() {\n        this._activeRows = JSON.parse(_store_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(this.id)) || [];\n        this._activeRows.forEach((row) => {\n            if (row.length > 0) {\n                const splittedRow = row[0].split('_');\n                const uuid = splittedRow.pop();\n                if (uuid != null) {\n                    this._rowsCounter += 1;\n                    this.createRow(uuid, false);\n                    this.dispatchEvent(new Event('newRow'));\n                }\n            }\n        });\n    }\n\n    updateSummaryText() {\n        const summaries = this.querySelectorAll('summary');\n        summaries.forEach((summary, index) => {\n            summary.innerText = this._summaryText.replace('$x', index + 1);\n        });\n    }\n\n    deleteRowInLocalStorage(row) {\n        row.forEach((elem) => {\n            localStorage.removeItem(elem);\n        });\n    }\n\n    get columns() {\n        return this._columns;\n    }\n\n    get rowsCounter() {\n        return this._rowsCounter;\n    }\n\n    set totalInputRef(totalInputRef) {\n        this._totalInputRef = totalInputRef;\n    }\n\n    get totalInputRef() {\n        return this._totalInputRef;\n    }\n\n    get activeRows() {\n        return this._activeRows;\n    }\n\n    /**\n     * Lifecycle method invoked when the element is first connected to the DOM.\n     *\n     * @method connectedCallback\n     */\n    connectedCallback() {\n        if (!this._rendered) {\n            this.render();\n        }\n    }\n}\n\nconst ArrayFactory = (conf, suffix) => {\n    const id = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_2__.inferId)(conf.id, suffix);\n    const container = (0,_basic_parent_container__WEBPACK_IMPORTED_MODULE_1__.createParentContainer)(id, ['input-container']);\n    // workspace.appendChild(container);\n\n    const arrayElement = new ArrayElement(\n        conf.schema.columns,\n        conf.schema.computations,\n        conf.schema.total,\n        conf.label,\n        suffix\n    );\n\n    arrayElement.setAttribute('id', id);\n    container.appendChild(arrayElement);\n    return container;\n};\n\ncustomElements.define('array-element', ArrayElement);\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/array.js?");

/***/ }),

/***/ "./src/form/components/computed/computed.js":
/*!**************************************************!*\
  !*** ./src/form/components/computed/computed.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Computed: () => (/* binding */ Computed)\n/* harmony export */ });\n/* harmony import */ var _utils_node_value__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/node_value */ \"./src/form/utils/node_value.js\");\n\n\n/**\n * Custom HTML element representing a computed value based on specified references and an operator.\n *\n * @class Computed\n * @extends HTMLElement\n */\nclass Computed extends HTMLElement {\n    /**\n     * Creates an instance of Computed.\n     * @constructor\n     */\n    constructor() {\n        super();\n        this._alreadyRendered = false;\n        this._operator = '';\n        this._references = [];\n        this._value = 0;\n        this._values = new Map();\n        // Indicates if the suffix will be applied to referenced elements.\n        this._applySuffixToReferences;\n        this._suffix = '';\n    }\n\n    /**\n     * Renders the computed element by adding input listeners to referenced elements.\n     *\n     * @method render\n     */\n    render() {\n        for (const ref of this._references) {\n            if (ref.loop != null) {\n                this.addLoopListener(ref);\n            } else if (ref.array != null) {\n                this.addArrayListener(ref);\n            } else {\n                this.addInputListener(ref.target, ref.absolute_ref);\n            }\n        }\n\n        this._alreadyRendered = true;\n    }\n\n    /**\n     * Adds an input listener to a target element.\n     *\n     * @method addInputListener\n     * @param {string} id - The ID of the target element.\n     */\n    addInputListener(id, absoluteRef = false) {\n        if (this._applySuffixToReferences && !absoluteRef) {\n            id = `${id}_${this._suffix}`;\n        }\n        const input = document.getElementById(id);\n        const compute = () => {\n            this._values.set(id, parseFloat((0,_utils_node_value__WEBPACK_IMPORTED_MODULE_0__.getNodeValue)(input)) || 0);\n            this.doOperation();\n            this.dispatchEvent(new Event('input'));\n        };\n\n        input.addEventListener('input', compute);\n        compute();\n    }\n\n    /**\n     * Adds a loop input listener to a target element within a loop.\n     *\n     * @method addLoopListener\n     * @param {Object} ref - The reference object containing loop and target information.\n     */\n    addLoopListener(ref) {\n        if (ref.operation_on_children_loop === 'gather_all') {\n            const loop = document.getElementById(ref.loop);\n\n            loop.addEventListener('has_looped', () => {\n                this.addInputsGroupEventListener(ref);\n            });\n        }\n\n        if (ref.operation_on_children_loop === 'distinct') {\n            this._applySuffixToReferences = true;\n            this.addInputListener(ref.target, ref.absolute_ref);\n        }\n    }\n\n    /**\n     * Adds an event listener to the specified array element to listen for the 'newRow' event.\n     *\n     * @method addArrayListener\n     * @param {Object} ref - Reference object containing information about the array element.\n     * @param {string} ref.array - The ID of the array element.\n     */\n    addArrayListener(ref) {\n        const array = document.getElementById(ref.array);\n        array.addEventListener('newRow', () => {\n            this.addInputsGroupEventListener(ref);\n        });\n        array.addEventListener('rowDeleted', () => {\n            this.addInputsGroupEventListener(ref);\n        });\n    }\n\n    /**\n     * Adds event listeners to the input elements within a group identified by the reference object.\n     *\n     * @method addInputsGroupEventListener\n     * @param {Object} ref - Reference object containing information about the input group.\n     * @param {string} ref.target - The prefix of the IDs of the input elements within the group.\n     */\n    addInputsGroupEventListener(ref) {\n        const inputs = document.querySelectorAll(`[id^=\"${ref.target}\"]`);\n        for (const input of inputs) {\n            this.addInputListener(input.id, ref.absolute_ref);\n        }\n        this.clearMapOldInputs(Array.from(inputs));\n    }\n\n    /**\n     * Performs the computation operation based on the stored values and the specified operator.\n     *\n     * @method doOperation\n     */\n    doOperation() {}\n\n    /**\n     * Clears old input values from the map that are no longer in use.\n     *\n     * @method clearMapOldInputs\n     * @param {Node[]} inputs - The array of input nodes to be checked against the map.\n     */\n    clearMapOldInputs(inputs) {\n        const keys = [...this._values.keys()];\n        const inputIDs = [];\n        inputs.forEach((input) => {\n            inputIDs.push(input.id);\n        });\n\n        keys.forEach((key) => {\n            if (!inputIDs.includes(key)) this._values.delete(key);\n        });\n\n        this.doOperation();\n        this.dispatchEvent(new Event('input'));\n    }\n\n    /**\n     * Sets the references for the computed element.\n     * @method set references\n     * @param {any[]} refererences - An array of reference objects specifying the elements to be computed.\n     * @param {any[]} references\n     */\n    set references(references) {\n        this._references = references;\n    }\n\n    /**\n     * @param {boolean} applySuffixToReferences\n     */\n    set applySuffixToReferences(applySuffixToReferences) {\n        this._applySuffixToReferences = applySuffixToReferences;\n    }\n\n    /**\n     * Invoked when the element is first connected to the DOM. Renders the element if not already rendered.\n     *\n     * @method connectedCallback\n     */\n    connectedCallback() {\n        if (!this._alreadyRendered) {\n            this.setAttribute('hidden', true);\n            this.render();\n        }\n    }\n\n    /**\n     * Array of attribute names to observe for changes.\n     * @property {string[]} observedAttributes\n     * @static\n     */\n    static get observedAttributes() {\n        return ['operator', 'suffix'];\n    }\n\n    /**\n     * Invoked when observed attributes are changed.\n     *\n     * @method attributeChangedCallback\n     * @param {string} name - The name of the changed attribute.\n     * @param {any} _ - The old value of the attribute.\n     * @param {string} newValue - The new value of the attribute.\n     */\n    attributeChangedCallback(name, _, newValue) {\n        switch (name) {\n            case 'operator':\n                this._operator = newValue.toLowerCase();\n                break;\n            case 'suffix':\n                this._suffix = newValue;\n                break;\n            default:\n                break;\n        }\n        this.render();\n    }\n}\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/computed/computed.js?");

/***/ }),

/***/ "./src/form/components/computed/divide.js":
/*!************************************************!*\
  !*** ./src/form/components/computed/divide.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Divide: () => (/* binding */ Divide)\n/* harmony export */ });\n/* harmony import */ var _computed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./computed */ \"./src/form/components/computed/computed.js\");\n\n\n/**\n * Custom HTML element representing the division operation of computed values.\n *\n * @class Divide\n * @extends Computed\n */\nclass Divide extends _computed__WEBPACK_IMPORTED_MODULE_0__.Computed {\n    /**\n     * Creates an instance of Divide.\n     * @constructor\n     */\n    constructor() {\n        super();\n    }\n\n    /**\n     * Performs the division operation on the stored values and sets the result as the 'value' attribute.\n     *\n     * @method doOperation\n     */\n    doOperation() {\n        let result;\n        this._values.forEach((value) => {\n            if (result == null) {\n                result = value;\n            } else if (value !== 0) {\n                result /= value;\n            }\n        });\n        this.setAttribute('value', Math.round(result * 100) / 100);\n    }\n}\n\ncustomElements.define('divide-element', Divide);\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/computed/divide.js?");

/***/ }),

/***/ "./src/form/components/computed/factory.js":
/*!*************************************************!*\
  !*** ./src/form/components/computed/factory.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ComputedFactory: () => (/* binding */ ComputedFactory)\n/* harmony export */ });\n/* harmony import */ var _utils_infer_id__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/infer_id */ \"./src/form/utils/infer_id.js\");\n/* harmony import */ var _divide__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./divide */ \"./src/form/components/computed/divide.js\");\n/* harmony import */ var _minus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./minus */ \"./src/form/components/computed/minus.js\");\n/* harmony import */ var _multiply__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./multiply */ \"./src/form/components/computed/multiply.js\");\n/* harmony import */ var _sum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sum */ \"./src/form/components/computed/sum.js\");\n\n\n\n\n\n\n/**\n * Factory function to create a custom computed element based on the provided configuration.\n *\n * @function ComputedFactory\n * @param {Object} conf - Configuration object for the computed element.\n * @param {string} [suffix] - Optional suffix to append to the element ID.\n * @param {boolean} [applySuffixToReferences] - If true, suffix will be applied to referenced elements.\n * @returns {HTMLElement} - The created computed element.\n */\nconst ComputedFactory = (conf, suffix, applySuffixToReferences = false, hasDataValidate) => {\n    const id = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_0__.inferId)(conf.id, suffix);\n\n    const computed = computedElementFactory(conf.schema.operator.toLowerCase());\n    computed.references = conf.schema.references;\n\n    computed.setAttribute('id', id);\n    computed.setAttribute('data-validate', hasDataValidate || false);\n\n    if (suffix != null) {\n        computed.applySuffixToReferences = applySuffixToReferences;\n        computed.setAttribute('suffix', suffix);\n    }\n\n    computed.setAttribute('operator', conf.schema.operator);\n\n    return computed;\n};\n\n/**\n * Factory function to create a specific custom computed element based on the provided operator.\n *\n * @function computedElementFactory\n * @param {string} operator - The operator indicating the type of computed element to create.\n * @returns {Computed} - The created computed element.\n */\nconst computedElementFactory = (operator) => {\n    switch (operator) {\n        case 'add':\n            return new _sum__WEBPACK_IMPORTED_MODULE_4__.Sum();\n        case 'minus':\n            return new _minus__WEBPACK_IMPORTED_MODULE_2__.Minus();\n        case 'divide':\n            return new _divide__WEBPACK_IMPORTED_MODULE_1__.Divide();\n        case 'multiply':\n            return new _multiply__WEBPACK_IMPORTED_MODULE_3__.Multiply();\n        default:\n            break;\n    }\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/computed/factory.js?");

/***/ }),

/***/ "./src/form/components/computed/minus.js":
/*!***********************************************!*\
  !*** ./src/form/components/computed/minus.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Minus: () => (/* binding */ Minus)\n/* harmony export */ });\n/* harmony import */ var _computed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./computed */ \"./src/form/components/computed/computed.js\");\n\n\n/**\n * Custom element class representing a subtraction operation.\n *\n * @class Minus\n * @extends Computed\n */\nclass Minus extends _computed__WEBPACK_IMPORTED_MODULE_0__.Computed {\n    /**\n     * Constructor for the Minus class.\n     */\n    constructor() {\n        super();\n    }\n\n    /**\n     * Perform the subtraction operation based on the stored values and update the 'value' attribute.\n     *\n     * @method doOperation\n     * @override\n     */\n    doOperation() {\n        const valuesAsArray = Array.from(this._values, ([key, val]) => {\n            return val;\n        });\n\n        let result = 0;\n        if (valuesAsArray.length > 0) {\n            result = valuesAsArray[0];\n            for (let index = 1; index < valuesAsArray.length; index++) {\n                result -= valuesAsArray[index];\n            }\n        }\n\n        this.setAttribute('value', result);\n    }\n}\n\ncustomElements.define('minus-element', Minus);\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/computed/minus.js?");

/***/ }),

/***/ "./src/form/components/computed/multiply.js":
/*!**************************************************!*\
  !*** ./src/form/components/computed/multiply.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Multiply: () => (/* binding */ Multiply)\n/* harmony export */ });\n/* harmony import */ var _computed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./computed */ \"./src/form/components/computed/computed.js\");\n\n\n/**\n * Custom element class representing a multiplication operation.\n *\n * @class Multiply\n * @extends Computed\n */\nclass Multiply extends _computed__WEBPACK_IMPORTED_MODULE_0__.Computed {\n    /**\n     * Constructor for the Multiply class.\n     */\n    constructor() {\n        super();\n    }\n\n    /**\n     * Perform the multiplication operation based on the stored values and update the 'value' attribute.\n     *\n     * @method doOperation\n     * @override\n     */\n    doOperation() {\n        let result = 1;\n        this._values.forEach((value) => {\n            result *= value;\n        });\n        this.setAttribute('value', result);\n    }\n}\n\ncustomElements.define('multiply-element', Multiply);\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/computed/multiply.js?");

/***/ }),

/***/ "./src/form/components/computed/sum.js":
/*!*********************************************!*\
  !*** ./src/form/components/computed/sum.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Sum: () => (/* binding */ Sum)\n/* harmony export */ });\n/* harmony import */ var _computed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./computed */ \"./src/form/components/computed/computed.js\");\n\n\n/**\n * Custom element class representing an addition operation.\n *\n * @class Sum\n * @extends Computed\n */\nclass Sum extends _computed__WEBPACK_IMPORTED_MODULE_0__.Computed {\n    /**\n     * Constructor for the Sum class.\n     */\n    constructor() {\n        super();\n    }\n\n    /**\n     * Perform the addition operation based on the stored values and update the 'value' attribute.\n     *\n     * @method doOperation\n     * @override\n     */\n    doOperation() {\n        let sum = 0;\n        this._values.forEach((value) => {\n            sum += value;\n        });\n        this.setAttribute('value', sum);\n    }\n}\n\ncustomElements.define('sum-element', Sum);\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/computed/sum.js?");

/***/ }),

/***/ "./src/form/components/conditionnal_form.js":
/*!**************************************************!*\
  !*** ./src/form/components/conditionnal_form.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConditionnalForm: () => (/* binding */ ConditionnalForm),\n/* harmony export */   ConditionnalFormFactory: () => (/* binding */ ConditionnalFormFactory)\n/* harmony export */ });\n/* harmony import */ var _form_element_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form_element_factory */ \"./src/form/form_element_factory.js\");\n/* harmony import */ var _utils_remove_children__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/remove_children */ \"./src/form/utils/remove_children.js\");\n/* harmony import */ var _basic_parent_container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../basic/parent_container */ \"./src/form/basic/parent_container.js\");\n/* harmony import */ var _utils_infer_id__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/infer_id */ \"./src/form/utils/infer_id.js\");\n/* harmony import */ var _utils_node_value__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/node_value */ \"./src/form/utils/node_value.js\");\n\n\n\n\n\n\n/**\n * Custom HTML element representing a conditional form with dynamically changing elements based on specified conditions.\n *\n * @class ConditionnalForm\n * @extends HTMLElement\n */\nclass ConditionnalForm extends HTMLElement {\n    constructor() {\n        super();\n        // Initialize properties\n        this._conditions = [];\n        this._items = [];\n        this._suffix;\n    }\n\n    /**\n     * Renders the conditional form by creating form elements and setting up condition listeners.\n     *\n     * @method render\n     */\n    render() {\n        // Remove existing children to update the form\n        (0,_utils_remove_children__WEBPACK_IMPORTED_MODULE_1__.removeChildren)(this);\n\n        // Create form elements based on the specified items\n        this._items.forEach((item) => {\n            const elem = (0,_form_element_factory__WEBPACK_IMPORTED_MODULE_0__.FormElementFactory)(item, this._suffix, true);\n            this.appendChild(elem);\n        });\n\n        // Set up condition listeners for dynamically changing elements\n        this._conditions.forEach((condition) => {\n            const targetId = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_3__.inferId)(condition.target, this._suffix);\n\n            // Find the target element by ID\n            const target = document.getElementById(targetId);\n\n            // Add an input event listener to check and apply conditions dynamically\n            target.addEventListener('input', () => {\n                this.checkCondition(target, condition);\n            });\n\n            // Check conditions initially\n            this.checkCondition(target, condition);\n        });\n    }\n\n    /**\n     * Checks if a condition is validated and applies triggers accordingly.\n     *\n     * @method checkCondition\n     * @param {HTMLElement} node - The form element node to check against the condition.\n     * @param {Object} condition - The condition object containing target, value, and operator.\n     */\n    checkCondition(node, condition) {\n        const nodeValue = (0,_utils_node_value__WEBPACK_IMPORTED_MODULE_4__.getNodeValue)(node);\n        if (this.conditionIsValidated(nodeValue, condition.value, condition.operator))\n            this.applyTriggers(condition);\n    }\n\n    /**\n     * Checks if a condition is validated based on the provided values and operator.\n     *\n     * @method conditionIsValidated\n     * @param {string} nodeValue - The value of the form element.\n     * @param {string} conditionValue - The value to compare against.\n     * @param {string} operator - The comparison operator (e.g., 'EQUAL', 'NOT_EQUAL').\n     * @returns {boolean} True if the condition is validated, otherwise false.\n     */\n    conditionIsValidated(nodeValue, conditionValue, operator) {\n        switch (operator) {\n            case 'EQUAL':\n                return nodeValue == conditionValue;\n            case 'NOT_EQUAL':\n                return nodeValue != conditionValue;\n            default:\n                return false;\n        }\n    }\n\n    /**\n     * Applies triggers based on the specified condition triggers.\n     *\n     * @method applyTriggers\n     * @param {Object} condition - The condition object containing triggers.\n     */\n    applyTriggers(condition) {\n        // Apply triggers for each target specified in the condition\n        condition.triggers.forEach((trigger) => {\n            const id = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_3__.inferId)(trigger.target, this._suffix);\n            const target = document.getElementById(`container_${id}`);\n            // Perform actions based on the trigger action\n            switch (trigger.action) {\n                case 'show':\n                    target.style.display = 'block';\n                    target.querySelectorAll('[data-validate=\"false\"]').forEach((el) => {\n                        el.setAttribute('data-validate', true);\n                    });\n                    break;\n                case 'hide':\n                    target.style.display = 'none';\n                    target.querySelectorAll('[data-validate=\"true\"]').forEach((el) => {\n                        el.setAttribute('data-validate', false);\n                    });\n                    break;\n                default:\n                    break;\n            }\n        });\n    }\n\n    /**\n     * Lifecycle method invoked when the element is first connected to the DOM.\n     *\n     * @method connectedCallback\n     */\n    connectedCallback() {\n        this.render();\n    }\n\n    /**\n     * Setter for the items property.\n     *\n     * @method set items\n     * @param {any[]} items - The array of items to be rendered in the conditional form.\n     */\n    set items(items) {\n        this._items = items;\n    }\n\n    /**\n     * Setter for the conditions property.\n     *\n     * @method set conditions\n     * @param {any[]} conditions - The array of conditions to be applied to dynamically changing elements.\n     */\n    set conditions(conditions) {\n        this._conditions = conditions;\n    }\n\n    /**\n     * Setter for the suffix property.\n     *\n     * @method set suffix\n     * @param {any} suffix - The optional suffix to be appended for uniqueness.\n     */\n    set suffix(suffix) {\n        this._suffix = suffix;\n    }\n}\n\n/**\n * Factory function for creating a container element with the ConditionnalForm custom element.\n * Initializes the custom element with attributes based on the provided configuration.\n *\n * @function ConditionnalFormFactory\n * @param {Object} conf - The configuration data containing information such as ID and schema.\n * @param {string} [suffix] - Optional suffix to append to the generated IDs for uniqueness.\n * @returns {HTMLElement} The container element containing the ConditionnalForm custom element.\n */\nconst ConditionnalFormFactory = (conf, suffix) => {\n    // Infer the ID based on the provided configuration and suffix\n    const id = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_3__.inferId)(conf.id, suffix);\n\n    // Create the parent container for the ConditionnalForm\n    const container = (0,_basic_parent_container__WEBPACK_IMPORTED_MODULE_2__.createParentContainer)(id, ['input-container']);\n\n    // Create an instance of the ConditionnalForm\n    const conditionnalForm = new ConditionnalForm();\n    conditionnalForm.setAttribute('id', id);\n    conditionnalForm.items = conf.schema.items;\n    conditionnalForm.conditions = conf.schema.conditions;\n    conditionnalForm.suffix = suffix;\n\n    // Append the ConditionnalForm to the container\n    container.appendChild(conditionnalForm);\n    return container;\n};\n\ncustomElements.define('conditionnal-form', ConditionnalForm);\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/conditionnal_form.js?");

/***/ }),

/***/ "./src/form/components/date_adder.js":
/*!*******************************************!*\
  !*** ./src/form/components/date_adder.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DateAdderFactory: () => (/* binding */ DateAdderFactory)\n/* harmony export */ });\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../store/store */ \"./src/store/store.js\");\n/* harmony import */ var _basic_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../basic/input */ \"./src/form/basic/input.js\");\n/* harmony import */ var _basic_parent_container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../basic/parent_container */ \"./src/form/basic/parent_container.js\");\n/* harmony import */ var _utils_infer_id__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/infer_id */ \"./src/form/utils/infer_id.js\");\n\n\n\n\n/**\n * Factory function to create a date adder input element that updates based on changes in the target date.\n *\n * @function DateAdderFactory\n * @param {Object} conf - Configuration object containing information about the date adder.\n * @param {string} suffix - A suffix to generate a unique ID for the date adder.\n * @returns {HTMLElement} - The parent container element for the date adder.\n * @throws {Error} - Throws an error if the target element is not of type \"date\".\n */\nconst DateAdderFactory = (conf, suffix, hasDataValidate) => {\n    // Generate a unique ID based on the provided suffix or use the default ID\n    const id = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_3__.inferId)(conf.id, suffix);\n\n    // Create the parent div container for the form group\n    const container = (0,_basic_parent_container__WEBPACK_IMPORTED_MODULE_2__.createParentContainer)(id);\n\n    // Create the date adder input element\n    const dateAdder = (0,_basic_input__WEBPACK_IMPORTED_MODULE_1__.createInput)('date', id, id, _store_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(id));\n    dateAdder.setAttribute('data-validate', hasDataValidate || false);\n\n    dateAdder.addEventListener('change', () => {\n        _store_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].save(id, dateAdder.value);\n    });\n\n    // Get the target date input element\n    const target = document.getElementById(conf.schema.target);\n\n    // Check if the target is of type \"date\"\n    if (target.type !== 'date') {\n        throw new Error('date adder target must be of type date');\n    }\n\n    // Add an event listener to the target date input to update the date adder value\n    target.addEventListener('change', () => {\n        const date = target.valueAsDate;\n        if (date == null) {\n            return;\n        }\n        date.setDate(date.getDate() + parseInt(conf.schema.days) || 0);\n        date.setMonth(date.getMonth() + parseInt(conf.schema.months) || 0);\n        date.setFullYear(date.getFullYear() + parseInt(conf.schema.years) || 0);\n        dateAdder.setAttribute('value', date.toISOString().split('T')[0]);\n    });\n\n    // Append the date adder to the container and return the container\n    container.appendChild(dateAdder);\n    container.hidden = true;\n\n    document.addEventListener('contract-generated', () => {\n        dateAdder.dispatchEvent(new Event('input'));\n        dateAdder.dispatchEvent(new Event('change'));\n    });\n    return container;\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/date_adder.js?");

/***/ }),

/***/ "./src/form/components/form_group.js":
/*!*******************************************!*\
  !*** ./src/form/components/form_group.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FormGroupFactory: () => (/* binding */ FormGroupFactory)\n/* harmony export */ });\n/* harmony import */ var _basic_parent_container_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../basic/parent_container.js */ \"./src/form/basic/parent_container.js\");\n/* harmony import */ var _basic_label_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../basic/label.js */ \"./src/form/basic/label.js\");\n/* harmony import */ var _form_element_factory_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../form_element_factory.js */ \"./src/form/form_element_factory.js\");\n/* harmony import */ var _utils_infer_id_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/infer_id.js */ \"./src/form/utils/infer_id.js\");\n\n\n\n\n\n/**\n * Factory function for creating a form group with multiple input elements.\n * The function takes configuration data and an optional suffix to generate unique IDs.\n *\n * @function FormGroupFactory\n * @param {Object} conf - The configuration data containing information such as ID, label, and schema.\n * @param {string} [suffix] - Optional suffix to append to the generated IDs for uniqueness.\n * @returns {HTMLElement} The container element representing the form group.\n */\nconst FormGroupFactory = (conf, suffix) => {\n    // Generate a unique ID based on the provided suffix or use the default ID\n    const id = (0,_utils_infer_id_js__WEBPACK_IMPORTED_MODULE_3__.inferId)(conf.id, suffix);\n\n    // Create the parent div container for the form group\n    const container = (0,_basic_parent_container_js__WEBPACK_IMPORTED_MODULE_0__.createParentContainer)(id);\n\n    // Working with workspace div because some referenced elements can be outside\n    // the form group scope.\n    const workspace = document.getElementById('workspace');\n    workspace.appendChild(container);\n\n    // Check if a label is defined in the configuration and create it if so\n    if (conf.label !== undefined) {\n        const label = (0,_basic_label_js__WEBPACK_IMPORTED_MODULE_1__.createLabel)(id, conf.label, conf.description);\n        container.appendChild(label);\n    }\n\n    // Create input elements based on the schema items in the configuration\n    conf.schema.items.forEach((item) => {\n        container.appendChild((0,_form_element_factory_js__WEBPACK_IMPORTED_MODULE_2__.FormElementFactory)(item, suffix, true));\n    });\n\n    // Remove the form group from the workspace\n    workspace.removeChild(container);\n\n    return container;\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/form_group.js?");

/***/ }),

/***/ "./src/form/components/input_with_label.js":
/*!*************************************************!*\
  !*** ./src/form/components/input_with_label.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InputWithLabelFactory: () => (/* binding */ InputWithLabelFactory)\n/* harmony export */ });\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../store/store */ \"./src/store/store.js\");\n/* harmony import */ var _basic_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../basic/input */ \"./src/form/basic/input.js\");\n/* harmony import */ var _basic_label__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../basic/label */ \"./src/form/basic/label.js\");\n/* harmony import */ var _basic_parent_container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../basic/parent_container */ \"./src/form/basic/parent_container.js\");\n/* harmony import */ var _utils_infer_id__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/infer_id */ \"./src/form/utils/infer_id.js\");\n\n\n\n\n\n\n/**\n * Factory function for creating an input element with an associated label.\n * The function takes input data and an optional suffix to generate unique IDs.\n *\n * @function InputWithLabelFactory\n * @param {Object} conf - The input data containing information such as ID, schema, and label.\n * @param {string} [suffix] - Optional suffix to append to the generated IDs for uniqueness.\n * @returns {HTMLElement} The container element containing the label and input.\n */\nconst InputWithLabelFactory = (conf, suffix, hasDataValidate) => {\n    // Generate a unique ID based on the provided suffix or use the default ID\n    const id = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_4__.inferId)(conf.id, suffix);\n\n    // Create input element based on the provided schema and rules\n    const input = (0,_basic_input__WEBPACK_IMPORTED_MODULE_1__.createInput)(conf.schema.format, id, id, _store_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(id), conf.schema.rules);\n    input.required = conf.required;\n    input.setAttribute('data-validate', hasDataValidate || false);\n\n    input.addEventListener('change', () => {\n        _store_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].save(id, input.value);\n    });\n\n    // Create associated label with the generated ID\n    const label = (0,_basic_label__WEBPACK_IMPORTED_MODULE_2__.createLabel)(id, conf.label, conf.description);\n\n    // Create the input container with a specified class\n    var container = (0,_basic_parent_container__WEBPACK_IMPORTED_MODULE_3__.createParentContainer)(id, ['input-container']);\n\n    // Append label and input to the container\n    container.appendChild(label);\n    container.appendChild(input);\n\n    document.addEventListener('contract-generated', () => {\n        input.dispatchEvent(new Event('input'));\n        input.dispatchEvent(new Event('change'));\n    });\n\n    return container;\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/input_with_label.js?");

/***/ }),

/***/ "./src/form/components/loop.js":
/*!*************************************!*\
  !*** ./src/form/components/loop.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Loop: () => (/* binding */ Loop),\n/* harmony export */   LoopFactory: () => (/* binding */ LoopFactory)\n/* harmony export */ });\n/* harmony import */ var _page_page__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../page/page */ \"./src/form/page/page.js\");\n/* harmony import */ var _form_element_factory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../form_element_factory */ \"./src/form/form_element_factory.js\");\n/* harmony import */ var _utils_node_value__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/node_value */ \"./src/form/utils/node_value.js\");\n/* harmony import */ var _utils_infer_id__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/infer_id */ \"./src/form/utils/infer_id.js\");\n\n\n\n\n\n/**\n * Custom HTML element representing a loop that dynamically creates pages based on an iterator's value.\n *\n * @class Loop\n * @extends HTMLElement\n */\nclass Loop extends HTMLElement {\n    constructor(items, label) {\n        super();\n        // Initialize properties\n        this._items = items;\n        this._iteratorId;\n        this._label = label || '';\n        this._iteratorReference = {};\n        this._createdPageCount = 0;\n        this._startingPageNumber = 0;\n    }\n\n    /**\n     * Renders the loop by setting up event listeners on the iterator and updating pages based on its value.\n     *\n     * @method render\n     */\n    render() {\n        // Find the iterator element by ID\n        const iterator = document.getElementById(this._iteratorId);\n\n        // Check if the iterator or items are not present, and return if so\n        if (iterator == null || this._items == []) {\n            return;\n        }\n\n        // Store a reference to the iterator element\n        this._iteratorReference = iterator;\n\n        // Bind the applyLoop method to the current instance\n        this.applyLoop = this.applyLoop.bind(this);\n\n        // Remove existing input event listener and add a new one\n        iterator.removeEventListener('input', this.applyLoop, true);\n        iterator.addEventListener('input', this.applyLoop, true);\n\n        // When the contract is generated, apply the loop and\n        // make each rendered items to dispatch change/input event.\n        document.addEventListener('contract-generated', () => {\n            this.applyLoop();\n            if (this._createdPageCount < 1) return;\n            for (let i = 0; i < this._createdPageCount; i++) {\n                this._items.forEach((item) => {\n                    const element = document.getElementById((0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_3__.inferId)(item.id, i));\n                    element.dispatchEvent(new Event('change'));\n                    element.dispatchEvent(new Event('input'));\n                    element.dispatchEvent(new Event('contract-generated'));\n                });\n            }\n        });\n    }\n\n    /**\n     * Applies the loop by determining the number of pages to add or delete based on the iterator's value.\n     *\n     * @method applyLoop\n     */\n    applyLoop() {\n        // Get the current value of the iterator\n        const currentIteratorValue = parseInt((0,_utils_node_value__WEBPACK_IMPORTED_MODULE_2__.getNodeValue)(this._iteratorReference));\n\n        // wait for an actual real number to loop.\n        if (isNaN(currentIteratorValue)) {\n            return;\n        }\n\n        // Infer the starting page number from the previous sibling of the element.\n        this._startingPageNumber = parseInt(this.previousSibling.id.split('_').pop()) + 1;\n\n        // Calculate the number of pages to delete and add\n        const numberOfPagesToDelete = this._createdPageCount - currentIteratorValue;\n        const numberOfPagesToAdd = currentIteratorValue - this._createdPageCount;\n\n        // Delete pages if needed\n        if (numberOfPagesToDelete > 0) {\n            this.deletePages(currentIteratorValue);\n        }\n        // Add pages if needed\n        if (numberOfPagesToAdd > 0) {\n            this.addPages(numberOfPagesToAdd);\n        }\n\n        // Update the count of created pages\n        this._createdPageCount = currentIteratorValue;\n        this.dispatchEvent(new Event('has_looped'));\n    }\n\n    /**\n     * Deletes pages based on the provided current iterator value.\n     *\n     * @method deletePages\n     * @param {number} currentIteratorValue - The current value of the iterator.\n     */\n    deletePages(currentIteratorValue) {\n        for (let index = this._createdPageCount; index > currentIteratorValue; index--) {\n            const pageToDeleteId = `page_${parseInt(this._startingPageNumber) + index - 1}`;\n            (0,_page_page__WEBPACK_IMPORTED_MODULE_0__.deletePage)(pageToDeleteId);\n        }\n    }\n\n    /**\n     * Adds pages based on the provided number of pages to add.\n     *\n     * @method addPages\n     * @param {number} numberOfPagesToAdd - The number of pages to add.\n     */\n    addPages(numberOfPagesToAdd) {\n        // Calculate the starting and ending page index for new pages\n        const startPageIndex =\n            parseInt(this._startingPageNumber) + parseInt(this._createdPageCount);\n\n        const endPageIndex =\n            parseInt(this._startingPageNumber) +\n            parseInt(this._createdPageCount) +\n            parseInt(numberOfPagesToAdd) -\n            1;\n\n        // Suffix for loop sub-items\n        let loopItemSuffix = this._createdPageCount;\n\n        // Iterate over the page indices and create pages with form elements\n        for (let pageNumber = startPageIndex; pageNumber <= endPageIndex; pageNumber++) {\n            const pageLabel = this._label.replace('$x', loopItemSuffix + 1) || '';\n            const page = (0,_page_page__WEBPACK_IMPORTED_MODULE_0__.newPage)(pageNumber, [], pageLabel);\n\n            this._items.forEach((item) => {\n                const element = (0,_form_element_factory__WEBPACK_IMPORTED_MODULE_1__.FormElementFactory)(item, loopItemSuffix, true);\n                page.appendChild(element);\n            });\n\n            loopItemSuffix++;\n        }\n    }\n\n    /**\n     * Setter for the items property.\n     *\n     * @method set items\n     * @param {any[]} items - The array of items to be rendered in the loop.\n     */\n    set items(items) {\n        this._items = items;\n    }\n\n    /**\n     * Lifecycle method invoked when the element is first connected to the DOM.\n     *\n     * @method connectedCallback\n     */\n    connectedCallback() {\n        this.render();\n    }\n\n    /**\n     * Array of attribute names to observe for changes.\n     *\n     * @static\n     * @property observedAttributes\n     * @returns {string[]} The array of observed attribute names.\n     */\n    static get observedAttributes() {\n        return ['iterator_id'];\n    }\n\n    /**\n     * Invoked when observed attributes are changed.\n     *\n     * @method attributeChangedCallback\n     * @param {string} name - The name of the changed attribute.\n     * @param {any} _ - The old value of the attribute.\n     * @param {string} newValue - The new value of the attribute.\n     */\n    attributeChangedCallback(name, _, newValue) {\n        // Handle changes to the 'iterator_id' attribute\n        switch (name) {\n            case 'iterator_id':\n                this._iteratorId = newValue;\n                break;\n            default:\n                break;\n        }\n        // Re-render the loop after attribute changes\n        this.render();\n    }\n}\n\n/**\n * Factory function for creating a loop element and attaching it to the DOM.\n * This component is autonomous. It attaches himself to the DOM.\n *\n * @function LoopFactory\n * @param {Object} conf - The configuration object for creating the loop.\n * @returns {Loop} The created loop element.\n */\nconst LoopFactory = (conf) => {\n    // Get the contract form element by ID\n    const contractForm = document.getElementById('contract-form');\n\n    // Create a new instance of the Loop class with items from the configuration\n    const loop = new Loop(conf.schema.items, conf.label);\n\n    // Append the loop element to the contract form\n    contractForm.appendChild(loop);\n\n    // Set the 'id' and 'iterator_id' attributes based on the configuration\n    loop.setAttribute('id', conf.id);\n    loop.setAttribute('iterator_id', conf.schema.iterator);\n\n    // Return the created loop element\n    return loop;\n};\n\ncustomElements.define('loop-el', Loop);\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/loop.js?");

/***/ }),

/***/ "./src/form/components/number_to_letter.js":
/*!*************************************************!*\
  !*** ./src/form/components/number_to_letter.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NumberToLetter: () => (/* binding */ NumberToLetter),\n/* harmony export */   NumberToLetterFactory: () => (/* binding */ NumberToLetterFactory)\n/* harmony export */ });\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../store/store */ \"./src/store/store.js\");\n/* harmony import */ var _utils_infer_id__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/infer_id */ \"./src/form/utils/infer_id.js\");\n/* harmony import */ var _utils_node_value__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/node_value */ \"./src/form/utils/node_value.js\");\n\n\n\n\nconst units = ['', 'un', 'deux', 'trois', 'quatre', 'cinq', 'six', 'sept', 'huit', 'neuf'];\n\nconst tens = [\n    '',\n    'dix',\n    'vingt',\n    'trente',\n    'quarante',\n    'cinquante',\n    'soixante',\n    'soixante-dix',\n    'quatre-vingt',\n    'quatre-vingt-dix',\n];\n\nconst specials = {\n    11: 'onze',\n    12: 'douze',\n    13: 'treize',\n    14: 'quatorze',\n    15: 'quinze',\n    16: 'seize',\n    21: 'vingt-et-un',\n    31: 'trente-et-un',\n    41: 'quarante-et-un',\n    51: 'cinquante-et-un',\n    61: 'soixante-et-un',\n    71: 'soixante-et-onze',\n    72: 'soixante-douze',\n    73: 'soixante-treize',\n    74: 'soixante-quatorze',\n    75: 'soixante-quinze',\n    76: 'soixante-seize',\n    91: 'quatre-vingt-onze',\n    92: 'quatre-vingt-douze',\n    93: 'quatre-vingt-treize',\n    94: 'quatre-vingt-quatorze',\n    95: 'quatre-vingt-quinze',\n    96: 'quatre-vingt-seize',\n};\n\nclass NumberToLetter extends HTMLElement {\n    constructor(targetId, suffix) {\n        super();\n        this._targetId = targetId;\n        this._value = null;\n        this._suffix = suffix;\n    }\n\n    render() {\n        if (!this._targetId) throw new Error('NumberToLetter target in null or undefined');\n        this.hidden = true;\n        const target = document.getElementById((0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_1__.inferId)(this._targetId, this._suffix));\n        this.value = _store_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(this.id);\n        target.addEventListener('input', (event) => {\n            const number = (0,_utils_node_value__WEBPACK_IMPORTED_MODULE_2__.getNodeValue)(event.target);\n            this.value = this.numberToLetter(parseInt(number) || 0);\n            _store_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].save(this.id, this.value);\n            this.dispatchEvent(new Event('input'));\n        });\n    }\n\n    numberToLetter(n) {\n        if (n === 0) {\n            return 'zéro';\n        }\n\n        function castHundreds(n) {\n            const hundreds = Math.floor(n / 100);\n            const remain = n % 100;\n\n            let hundredLetter = '';\n            let remainLetter = '';\n\n            if (hundreds > 1) {\n                hundredLetter = units[hundreds] + ' cent';\n            } else if (hundreds === 1) {\n                hundredLetter = ' cent';\n            }\n\n            if (remain > 0) {\n                remainLetter = castTens(remain);\n            }\n\n            return hundredLetter + remainLetter;\n        }\n\n        function castTens(n) {\n            if (n in specials) {\n                return specials[n];\n            }\n\n            const unit = n % 10;\n            const ten = Math.floor(n / 10);\n\n            let unitLetter = units[unit];\n            let tenLetter = tens[ten];\n\n            return ' ' + tenLetter + ' ' + unitLetter;\n        }\n\n        let result = '';\n\n        if (n >= 1000000) {\n            const millions = Math.floor(n / 1000000);\n            n %= 1000000;\n            result += castHundreds(millions) + ' million';\n            if (millions > 1) {\n                result += 's';\n            }\n            if (n > 0) {\n                result += ' ';\n            }\n        }\n\n        if (n >= 1000) {\n            const thousands = Math.floor(n / 1000);\n            n %= 1000;\n            result += castHundreds(thousands) + ' mille';\n            if (n > 0) {\n                result += ' ';\n            }\n        }\n\n        if (n > 0) {\n            result += castHundreds(n);\n        }\n        result = result.trim();\n\n        // Special case to avoid unecessary complexity\n        if (result === 'quatre-vingt') {\n            return 'quatre-vingts';\n        }\n\n        let splittedNumber = result.split(' ');\n        splittedNumber = splittedNumber.filter((e) => {\n            return e !== '';\n        });\n\n        if (splittedNumber.length > 1) {\n            const lastWord = splittedNumber[splittedNumber.length - 1];\n            if (lastWord === 'cent') {\n                splittedNumber[splittedNumber.length - 1] = 'cents';\n            }\n\n            if (lastWord.includes('vingt')) {\n                let pluralTwenty = 'vingts';\n                const splittedLastWord = lastWord.split('-');\n                if (splittedLastWord[splittedLastWord.length - 1] === 'vingt') {\n                    splittedLastWord[splittedLastWord.length - 1] = 'vingts';\n                    pluralTwenty = splittedLastWord.join('-');\n                }\n                splittedNumber[splittedNumber.length - 1] = pluralTwenty;\n            }\n        }\n\n        result = splittedNumber.join('-');\n        return result.toUpperCase();\n    }\n\n    /**\n     * Invoked when the element is first connected to the DOM.\n     * @method connectedCallback\n     */\n    connectedCallback() {\n        this.render();\n    }\n}\n\nconst NumberToLetterFactory = (conf, suffix, hasDataValidate) => {\n    const id = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_1__.inferId)(conf.id, suffix);\n    const numberToLetter = new NumberToLetter(conf.schema.target, suffix);\n    numberToLetter.setAttribute('id', id);\n    return numberToLetter;\n};\n\ncustomElements.define('number-to-letter', NumberToLetter);\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/number_to_letter.js?");

/***/ }),

/***/ "./src/form/components/radio_group.js":
/*!********************************************!*\
  !*** ./src/form/components/radio_group.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RadioGroup: () => (/* binding */ RadioGroup),\n/* harmony export */   RadioGroupFactory: () => (/* binding */ RadioGroupFactory)\n/* harmony export */ });\n/* harmony import */ var _basic_parent_container_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../basic/parent_container.js */ \"./src/form/basic/parent_container.js\");\n/* harmony import */ var _basic_input_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../basic/input.js */ \"./src/form/basic/input.js\");\n/* harmony import */ var _basic_label_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../basic/label.js */ \"./src/form/basic/label.js\");\n/* harmony import */ var _utils_remove_children_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/remove_children.js */ \"./src/form/utils/remove_children.js\");\n/* harmony import */ var _utils_infer_id__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/infer_id */ \"./src/form/utils/infer_id.js\");\n/* harmony import */ var _store_store_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../store/store.js */ \"./src/store/store.js\");\n\n\n\n\n\n\n\n/**\n * Custom HTML element representing a group of radio buttons.\n * This class encapsulates the functionality to create a customizable\n * group of radio buttons with an associated label. The value of\n * the element corresponds to the checked radio.\n *\n * @class RadioGroup\n * @extends HTMLElement\n */\nclass RadioGroup extends HTMLElement {\n    /**\n     * Constructor for the RadioGroup class.\n     * Initializes properties and an array to hold radio buttons.\n     * @constructor\n     */\n    constructor() {\n        super();\n        // Initialize properties\n        this._choices = [];\n        this._label = '';\n        this._value = 'none';\n        // Array containing all radio buttons\n        this._radios = [];\n        this._radioNoneRef = null;\n    }\n\n    /**\n     * Render the radio group by setting the 'value' attribute and\n     * appending the label and radio buttons to the DOM.\n     * @method render\n     */\n    render() {\n        (0,_utils_remove_children_js__WEBPACK_IMPORTED_MODULE_3__.removeChildren)(this);\n\n        const value = this._value || _store_store_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].get(this.id);\n        if (value) {\n            this.setAttribute('value', value);\n        }\n\n        const elements = [this.label(), this.radios()];\n        elements.forEach((elem) => {\n            this.appendChild(elem);\n        });\n\n        document.addEventListener('contract-generated', () => {\n            this.dispatchEvent(new Event('input'));\n            this.dispatchEvent(new Event('change'));\n        });\n    }\n\n    /**\n     * Create and return a legend element with the specified label.\n     * @method label\n     * @returns {HTMLLegendElement} The legend element.\n     */\n    label() {\n        const legend = document.createElement('legend');\n        legend.innerText = this._label;\n        legend.classList.add('form-label');\n        return legend;\n    }\n\n    /**\n     * Create and return a container for radio buttons.\n     * @method radios\n     * @returns {HTMLDivElement} The container for radio buttons.\n     */\n    radios() {\n        let radioNoneChecked = true;\n        const radiosContainer = document.createElement('div');\n\n        this._choices.forEach((choice) => {\n            const div = document.createElement('div');\n            div.classList.add('radio-row');\n\n            const radioName = `radio_${this.id}`;\n            const radioId = `${radioName}_${choice}`;\n            const radio = this.radio(radioName, radioId, choice);\n\n            if (choice === _store_store_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].get(this.id)) {\n                radio.checked = true;\n                this.setAttribute('value', radio.value);\n                radioNoneChecked = false;\n            }\n\n            const label = (0,_basic_label_js__WEBPACK_IMPORTED_MODULE_2__.createLabel)(radioName, choice);\n            this._radios.push(radio);\n            div.appendChild(radio);\n            div.appendChild(label);\n            radiosContainer.appendChild(div);\n        });\n\n        radiosContainer.appendChild(this.radioNone(radioNoneChecked));\n\n        return radiosContainer;\n    }\n\n    /**\n     * Create and return a radio button element.\n     * @method radio\n     * @param {string} radioName - The name attribute for the radio button.\n     * @param {string} radioId - The ID attribute for the radio button.\n     * @param {string} choice - The value attribute for the radio button.\n     * @returns {HTMLInputElement} The radio button element.\n     */\n    radio(radioName, radioId, choice) {\n        const radio = (0,_basic_input_js__WEBPACK_IMPORTED_MODULE_1__.createInput)('radio', radioName, radioId, choice);\n        radio.addEventListener('click', () => {\n            if (radio.checked) {\n                this._value = radio.value;\n                this.setAttribute('value', this._value);\n                _store_store_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].save(this.id, this._value);\n                radio.dispatchEvent(new Event('input'));\n            }\n        });\n        return radio;\n    }\n\n    /**\n     * Create and return a hidden radio button element with the value 'none'.\n     * It is the checked radio by default.\n     * @method radioNone\n     * @param {boolean} checked - Indicates if the radio will be checked on render or not.\n     * @returns {HTMLInputElement} The hidden radio button element.\n     */\n    radioNone(checked) {\n        const radioNone = (0,_basic_input_js__WEBPACK_IMPORTED_MODULE_1__.createInput)('radio', `radio_${this.id}`, `${this.id}_none`, 'none');\n        radioNone.checked = checked;\n        radioNone.style.display = 'none';\n        this._radioNoneRef = radioNone;\n        return radioNone;\n    }\n\n    /**\n     * Uncheck all radio buttons in the group.\n     */\n    uncheckAll() {\n        this._radios.forEach((radio) => {\n            radio.checked = false;\n        });\n\n        this._radioNoneRef.checked = false;\n    }\n\n    /**\n     * Invoked when the element is first connected to the DOM.\n     * @method connectedCallback\n     */\n    connectedCallback() {\n        this.render();\n    }\n\n    /**\n     * Array of attribute names to observe for changes.\n     * @property {string[]} observedAttributes\n     * @static\n     */\n    static get observedAttributes() {\n        return ['label', 'choices'];\n    }\n\n    /**\n     * Invoked when observed attributes are changed.\n     * @method attributeChangedCallback\n     * @param {string} name - The name of the attribute that changed.\n     * @param {string} _ - The old value of the attribute.\n     * @param {string} newValue - The new value of the attribute.\n     */\n    attributeChangedCallback(name, _, newValue) {\n        switch (name) {\n            case 'label':\n                this._label = newValue;\n                break;\n            case 'choices':\n                this._choices = JSON.parse(newValue);\n            default:\n                break;\n        }\n        this.render();\n    }\n}\n\nconst RadioGroupFactory = (conf, suffix, hasDataValidate) => {\n    const id = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_4__.inferId)(conf.id, suffix);\n    const container = (0,_basic_parent_container_js__WEBPACK_IMPORTED_MODULE_0__.createParentContainer)(id, ['input-container']);\n\n    const radioGroup = new RadioGroup();\n    radioGroup.setAttribute('id', id);\n    radioGroup.setAttribute('label', conf.label);\n    radioGroup.setAttribute('choices', JSON.stringify(conf.schema.choices));\n    radioGroup.setAttribute('data-validate', hasDataValidate || false);\n\n    container.appendChild(radioGroup);\n    return container;\n};\n\ncustomElements.define('radio-group', RadioGroup);\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/radio_group.js?");

/***/ }),

/***/ "./src/form/components/radio_with_other.js":
/*!*************************************************!*\
  !*** ./src/form/components/radio_with_other.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RadioGroupWithOtherFactory: () => (/* binding */ RadioGroupWithOtherFactory),\n/* harmony export */   RadioWithOther: () => (/* binding */ RadioWithOther)\n/* harmony export */ });\n/* harmony import */ var _radio_group_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./radio_group.js */ \"./src/form/components/radio_group.js\");\n/* harmony import */ var _basic_input_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../basic/input.js */ \"./src/form/basic/input.js\");\n/* harmony import */ var _basic_parent_container_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../basic/parent_container.js */ \"./src/form/basic/parent_container.js\");\n/* harmony import */ var _utils_infer_id__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/infer_id */ \"./src/form/utils/infer_id.js\");\n/* harmony import */ var _store_store_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../store/store.js */ \"./src/store/store.js\");\n\n\n\n\n\n\n/**\n * Custom HTML element representing a group of radio buttons with an additional input field.\n * This class extends the RadioGroup class and adds functionality for including an input field.\n *\n * @class RadioWithOther\n * @extends RadioGroup\n */\nclass RadioWithOther extends _radio_group_js__WEBPACK_IMPORTED_MODULE_0__.RadioGroup {\n    /**\n     * Constructor for the RadioWithOther class.\n     * Initializes additional properties for the input field.\n     * @constructor\n     */\n    constructor() {\n        super();\n        // Initialize additional properties\n        this._placeholder = null;\n        this._format = null;\n        this._inputReference = {};\n    }\n\n    /**\n     * Override the render method to include an input field.\n     * Calls the parent class's render method and appends the input field to the radio group.\n     * Adds event listeners to radio buttons to clear the input field when clicked.\n     * @method render\n     */\n    render() {\n        super.render(); // Call the parent class's render method, children are removed in the base class\n        this.appendChild(this.input()); // Append the input field to the radio group\n\n        // Add event listeners to radio buttons to clear the input field when clicked\n        this._radios.forEach((radio) => {\n            radio.addEventListener('click', () => {\n                this._inputReference.value = '';\n                this.dispatchEvent(new Event('input'));\n            });\n        });\n    }\n\n    /**\n     * Create and return an input field.\n     * Adds event listener to update the selected value when the input field changes.\n     * Calls the parent class's uncheckAll method to uncheck all radio buttons.\n     * @method input\n     * @returns {HTMLInputElement} The input field.\n     */\n    input() {\n        // Handling default values with local storage.\n        let defaultValue = null;\n        if (!this.valueIsFromRadio(_store_store_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get(this.id))) {\n            defaultValue = _store_store_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].get(this.id);\n            this.uncheckAll();\n            if (defaultValue) this.setAttribute('value', defaultValue);\n        }\n\n        const input = (0,_basic_input_js__WEBPACK_IMPORTED_MODULE_1__.createInput)(this._format, this.id, this.id, defaultValue);\n        input.placeholder = this._placeholder;\n        input.addEventListener('input', () => {\n            this.uncheckAll(); // Uncheck all radio buttons when input field changes\n            this._value = input.value;\n            this.setAttribute('value', this._value);\n            _store_store_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].save(this.id, this._value);\n            this.dispatchEvent(new Event('input'));\n        });\n        this._inputReference = input;\n        return input;\n    }\n\n    valueIsFromRadio = (value) => {\n        return this._choices.includes(value) && value != 'none';\n    };\n\n    /**\n     * Array of attribute names to observe for changes, including parent class attributes.\n     * @property {string[]} observedAttributes\n     * @static\n     */\n    static get observedAttributes() {\n        return ['placeholder', 'format', ...super.observedAttributes];\n    }\n\n    /**\n     * Invoked when observed attributes are changed, including parent class attributes.\n     * Calls the parent class's method and handles additional attributes specific to this class.\n     * Re-renders the component after attribute changes.\n     * @method attributeChangedCallback\n     * @param {string} name - The name of the attribute that changed.\n     * @param {string} _ - The old value of the attribute.\n     * @param {string} newValue - The new value of the attribute.\n     */\n    attributeChangedCallback(name, _, newValue) {\n        super.attributeChangedCallback(name, _, newValue); // Call parent class's method\n\n        // Handle additional attributes specific to this class\n        switch (name) {\n            case 'placeholder':\n                this._placeholder = newValue;\n                break;\n            case 'format':\n                this._format = newValue;\n                break;\n            default:\n                break;\n        }\n        this.render(); // Re-render the component after attribute changes\n    }\n}\n\nconst RadioGroupWithOtherFactory = (conf, suffix, hasDataValidate) => {\n    const id = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_3__.inferId)(conf.id, suffix);\n    const container = (0,_basic_parent_container_js__WEBPACK_IMPORTED_MODULE_2__.createParentContainer)(id, ['input-container']);\n\n    const radioWithOther = new RadioWithOther();\n    radioWithOther.setAttribute('id', id);\n    radioWithOther.setAttribute('label', conf.label);\n    radioWithOther.setAttribute('choices', JSON.stringify(conf.schema.choices));\n    radioWithOther.setAttribute('format', JSON.stringify(conf.schema.format));\n    radioWithOther.setAttribute('placeholder', JSON.stringify(conf.schema.placeholder));\n    radioWithOther.setAttribute('data-validate', hasDataValidate || false);\n\n    container.appendChild(radioWithOther);\n    return container;\n};\n\ncustomElements.define('radio-with-other', RadioWithOther);\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/radio_with_other.js?");

/***/ }),

/***/ "./src/form/components/select_with_label.js":
/*!**************************************************!*\
  !*** ./src/form/components/select_with_label.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SelectWithLabelFactory: () => (/* binding */ SelectWithLabelFactory)\n/* harmony export */ });\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../store/store */ \"./src/store/store.js\");\n/* harmony import */ var _basic_label__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../basic/label */ \"./src/form/basic/label.js\");\n/* harmony import */ var _basic_parent_container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../basic/parent_container */ \"./src/form/basic/parent_container.js\");\n/* harmony import */ var _basic_select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../basic/select */ \"./src/form/basic/select.js\");\n/* harmony import */ var _utils_infer_id__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/infer_id */ \"./src/form/utils/infer_id.js\");\n\n\n\n\n\n\n// TODO ajouter le label, update doc acev GPT\n\n/**\n * Factory function for creating a select element with options based on provided configuration.\n *\n * @function createSelect\n * @param {Object} conf - The configuration data containing information such as ID and schema.\n * @param {string} [suffix] - Optional suffix to append to the generated IDs for uniqueness.\n * @returns {HTMLElement} The container element containing the select element.\n */\nconst SelectWithLabelFactory = (conf, suffix, hasDataValidate) => {\n    // Generate a unique ID based on the provided suffix or use the default ID\n    const id = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_4__.inferId)(conf.id, suffix);\n\n    // Create the parent div container for the select element\n    const container = (0,_basic_parent_container__WEBPACK_IMPORTED_MODULE_2__.createParentContainer)(id, ['input-container']);\n\n    const select = (0,_basic_select__WEBPACK_IMPORTED_MODULE_3__.createSelect)(id, conf.schema.choices);\n    select.value = _store_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(id) || conf.schema.choices[0] || undefined;\n    select.setAttribute('data-validate', hasDataValidate || false);\n\n    select.addEventListener('change', () => {\n        _store_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].save(id, select.value);\n    });\n\n    if (conf.label != null) {\n        container.appendChild((0,_basic_label__WEBPACK_IMPORTED_MODULE_1__.createLabel)(id, conf.label, conf.description));\n    }\n\n    document.addEventListener('contract-generated', () => {\n        select.dispatchEvent(new Event('input'));\n        select.dispatchEvent(new Event('change'));\n    });\n\n    // Add the built select element to the parent container\n    container.appendChild(select);\n\n    return container;\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/select_with_label.js?");

/***/ }),

/***/ "./src/form/components/select_with_other.js":
/*!**************************************************!*\
  !*** ./src/form/components/select_with_other.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SelectWithOther: () => (/* binding */ SelectWithOther),\n/* harmony export */   SelectWithOtherFactory: () => (/* binding */ SelectWithOtherFactory)\n/* harmony export */ });\n/* harmony import */ var _basic_input__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../basic/input */ \"./src/form/basic/input.js\");\n/* harmony import */ var _basic_select__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../basic/select */ \"./src/form/basic/select.js\");\n/* harmony import */ var _basic_parent_container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../basic/parent_container */ \"./src/form/basic/parent_container.js\");\n/* harmony import */ var _utils_remove_children__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/remove_children */ \"./src/form/utils/remove_children.js\");\n/* harmony import */ var _basic_label__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../basic/label */ \"./src/form/basic/label.js\");\n/* harmony import */ var _utils_infer_id__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/infer_id */ \"./src/form/utils/infer_id.js\");\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../store/store */ \"./src/store/store.js\");\n\n\n\n\n\n\n\n\n/**\n * Custom HTML element representing a select input with an \"other\" option and an associated input field.\n * This class extends HTMLElement and provides functionality to choose from predefined options or enter a custom value.\n *\n * @class SelectWithOther\n * @extends HTMLElement\n */\nclass SelectWithOther extends HTMLElement {\n    /**\n     * Constructor for the SelectWithOther class.\n     * Initializes additional properties for choices, placeholder, format, input rules, and references to input and select elements.\n     * @constructor\n     */\n    constructor() {\n        super();\n        // Initialize additional properties\n        this._choices = [];\n        this._label = '';\n        this._description = null;\n        this._placeholder = null;\n        this._format = null;\n        this._inputRules = {};\n        this._inputReference = {};\n        this._selectReference = {};\n    }\n\n    /**\n     * Render the component by updating the DOM based on the current state.\n     * Clears existing children, sets the 'value' attribute, and appends the select and input elements.\n     * Adds event listeners to the select and input elements.\n     * @method render\n     */\n    render() {\n        (0,_utils_remove_children__WEBPACK_IMPORTED_MODULE_3__.removeChildren)(this);\n        this.setAttribute('value', this._value || _store_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get(this.id));\n\n        const elements = [this.select(), this.input()];\n        const label = (0,_basic_label__WEBPACK_IMPORTED_MODULE_4__.createLabel)(this._selectReference.id, this._label, this._description);\n        this.appendChild(label);\n\n        elements.forEach((elem) => {\n            this.appendChild(elem);\n        });\n\n        this.addSelectEventListener();\n        this.addInputEventListener();\n\n        document.addEventListener('contract-generated', () => {\n            this.dispatchEvent(new Event('input'));\n            this.dispatchEvent(new Event('change'));\n        });\n    }\n\n    /**\n     * Create and return the select element with options.\n     * @method select\n     * @returns {HTMLSelectElement} The created select element.\n     */\n    select() {\n        const selectId = `select_${this.id}`;\n        const select = (0,_basic_select__WEBPACK_IMPORTED_MODULE_1__.createSelect)(selectId, this._choices);\n        this._selectReference = select;\n        return select;\n    }\n\n    /**\n     * Create and return the input element.\n     * @method input\n     * @returns {HTMLInputElement} The created input element.\n     */\n    input() {\n        const inputId = `other_input_${this.id}`;\n        const input = (0,_basic_input__WEBPACK_IMPORTED_MODULE_0__.createInput)(this._format, inputId, inputId, null, this._inputRules);\n        input.placeholder = this._placeholder;\n        this._inputReference = input;\n        return input;\n    }\n\n    /**\n     * Add event listener to the select element for handling change events.\n     * Clears the input field and updates the 'value' attribute when a new option is selected.\n     * Manually triggers the input event.\n     * @method addSelectEventListener\n     */\n    addSelectEventListener() {\n        if (!this.elementsAreDefined())\n            throw new Error('input or select must be defined before attaching select listener');\n\n        this._selectReference.addEventListener('change', () => {\n            this._inputReference.value = '';\n            this.setAttribute('value', this._selectReference.value);\n            _store_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"].save(this.id, this._selectReference.value);\n\n            // Manually trigger input event\n            this.dispatchEvent(new Event('input'));\n        });\n    }\n\n    /**\n     * Add event listener to the input element for handling input events.\n     * Resets the select element to the first value when the input field changes.\n     * Updates the 'value' attribute based on the input field's value.\n     * Manually triggers the input event.\n     * @method addInputEventListener\n     */\n    addInputEventListener() {\n        if (!this.elementsAreDefined())\n            throw new Error('input or select must be defined before attaching input listener');\n\n        this._inputReference.addEventListener('input', () => {\n            // Reset the select to the first value\n            this._selectReference.value = this._selectReference.options[0].value;\n            this._selectReference.options[0].selected = true;\n\n            this.setAttribute('value', this._inputReference.value);\n\n            // Manually trigger input event\n            this.dispatchEvent(new Event('input'));\n        });\n\n        this._inputReference.addEventListener('change', () => {\n            if (this._inputReference.value != null) {\n                _store_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"].save(this.id, this._inputReference.value);\n            }\n        });\n    }\n\n    /**\n     * Check if both input and select references are defined.\n     * @method elementsAreDefined\n     * @returns {boolean} True if both input and select references are defined, otherwise false.\n     */\n    elementsAreDefined() {\n        return this._inputReference != null && this._selectReference != null;\n    }\n\n    /**\n     * Array of attribute names to observe for changes.\n     * @property {string[]} observedAttributes\n     * @static\n     */\n    static get observedAttributes() {\n        return ['choices', 'placeholder', 'format', 'input_rules', 'label'];\n    }\n\n    /**\n     * Invoked when observed attributes are changed.\n     * Parses and updates the corresponding properties based on the attribute changes.\n     * Re-renders the component after attribute changes.\n     * @method attributeChangedCallback\n     * @param {string} name - The name of the attribute that changed.\n     * @param {string} _ - The old value of the attribute.\n     * @param {string} newValue - The new value of the attribute.\n     */\n    attributeChangedCallback(name, _, newValue) {\n        switch (name) {\n            case 'choices':\n                this._choices = JSON.parse(newValue);\n                break;\n            case 'placeholder':\n                this._placeholder = newValue;\n                break;\n            case 'format':\n                this._format = newValue;\n                break;\n            case 'input_rules':\n                this._inputRules = JSON.parse(newValue);\n                break;\n            case 'label':\n                this._label = newValue;\n                break;\n            case 'description':\n                this._description = newValue;\n                break;\n            default:\n                break;\n        }\n        this.render(); // Re-render the component after attribute changes\n    }\n}\n\n/**\n * Factory function for creating a container element with the SelectWithOther custom element.\n * Initializes the custom element with attributes based on the provided configuration.\n *\n * @function SelectWithOtherFactory\n * @param {Object} conf - The configuration data containing information such as ID and schema.\n * @param {string} [suffix] - Optional suffix to append to the generated IDs for uniqueness.\n * @returns {HTMLElement} The container element containing the SelectWithOther custom element.\n */\nconst SelectWithOtherFactory = (conf, suffix, hasDataValidate) => {\n    const id = (0,_utils_infer_id__WEBPACK_IMPORTED_MODULE_5__.inferId)(conf.id, suffix);\n    const container = (0,_basic_parent_container__WEBPACK_IMPORTED_MODULE_2__.createParentContainer)(id, ['input-container']);\n\n    const selectWithOther = new SelectWithOther();\n    selectWithOther.setAttribute('id', id);\n    selectWithOther.setAttribute('choices', JSON.stringify(conf.schema.choices));\n    selectWithOther.setAttribute('placeholder', conf.schema.placeholder);\n    selectWithOther.setAttribute('format', conf.schema.format);\n    selectWithOther.setAttribute('label', conf.label);\n    selectWithOther.setAttribute('description', conf.description);\n    selectWithOther.setAttribute('input_rules', JSON.stringify(conf.schema.rules || ''));\n    selectWithOther.setAttribute('data-validate', hasDataValidate || false);\n\n    container.appendChild(selectWithOther);\n    return container;\n};\n\ncustomElements.define('select-with-other', SelectWithOther);\n\n\n//# sourceURL=webpack://contract-builder/./src/form/components/select_with_other.js?");

/***/ }),

/***/ "./src/form/form.js":
/*!**************************!*\
  !*** ./src/form/form.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _components_loop__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/loop */ \"./src/form/components/loop.js\");\n/* harmony import */ var _page_page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./page/page */ \"./src/form/page/page.js\");\n/* harmony import */ var _page_progress__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./page/progress */ \"./src/form/page/progress.js\");\n/* harmony import */ var _page_validate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./page/validate */ \"./src/form/page/validate.js\");\n\n\n\n\n\nconst Form = (() => {\n    const generate = (inputs) => {\n        let pageNumberCounter = 1;\n\n        inputs.forEach((pageConfiguration) => {\n            if (pageConfiguration.schema.items[0].schema.type === 'loop') {\n                (0,_components_loop__WEBPACK_IMPORTED_MODULE_0__.LoopFactory)(pageConfiguration.schema.items[0], pageNumberCounter);\n            } else {\n                (0,_page_page__WEBPACK_IMPORTED_MODULE_1__.PageFactory)(pageConfiguration, pageNumberCounter);\n                pageNumberCounter += 1;\n            }\n        });\n\n        const pageTotal = document.getElementById('page_number_total');\n        pageTotal.setAttribute('value', pageNumberCounter - 1);\n\n        const firstPage = document.getElementById('page_1');\n        firstPage.hidden = false;\n\n        const pageTitle = document.getElementById('page-title');\n        pageTitle.innerText = firstPage.getAttribute('data-page-title');\n    };\n\n    const resume = () => {\n        const contractForm = document.getElementById('contract-form');\n        let pages = contractForm.querySelectorAll('[id^=\"page_\"]');\n        for (let i = 0; i < pages.length; i++) {\n            const page = pages[i];\n            const pageNumber = parseInt(page.id.split('_').pop());\n            const pageIsValid = (0,_page_validate__WEBPACK_IMPORTED_MODULE_3__.validatePage)(pageNumber);\n            pageIsValid\n                ? _page_progress__WEBPACK_IMPORTED_MODULE_2__[\"default\"].segmentIsValid(pageNumber - 1)\n                : _page_progress__WEBPACK_IMPORTED_MODULE_2__[\"default\"].segmentIsNotValid(pageNumber - 1);\n\n            // take new pages if they are new ones generated\n            pages = contractForm.querySelectorAll('[id^=\"page_\"]');\n        }\n    };\n\n    return {\n        generate,\n        resume,\n    };\n})();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Form);\n\n\n//# sourceURL=webpack://contract-builder/./src/form/form.js?");

/***/ }),

/***/ "./src/form/form_element_factory.js":
/*!******************************************!*\
  !*** ./src/form/form_element_factory.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FormElementFactory: () => (/* binding */ FormElementFactory)\n/* harmony export */ });\n/* harmony import */ var _components_radio_group_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/radio_group.js */ \"./src/form/components/radio_group.js\");\n/* harmony import */ var _components_radio_with_other_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/radio_with_other.js */ \"./src/form/components/radio_with_other.js\");\n/* harmony import */ var _components_select_with_label_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/select_with_label.js */ \"./src/form/components/select_with_label.js\");\n/* harmony import */ var _components_form_group_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/form_group.js */ \"./src/form/components/form_group.js\");\n/* harmony import */ var _components_input_with_label_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/input_with_label.js */ \"./src/form/components/input_with_label.js\");\n/* harmony import */ var _components_select_with_other_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/select_with_other.js */ \"./src/form/components/select_with_other.js\");\n/* harmony import */ var _components_conditionnal_form_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/conditionnal_form.js */ \"./src/form/components/conditionnal_form.js\");\n/* harmony import */ var _components_loop_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/loop.js */ \"./src/form/components/loop.js\");\n/* harmony import */ var _components_computed_factory_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/computed/factory.js */ \"./src/form/components/computed/factory.js\");\n/* harmony import */ var _components_array_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/array.js */ \"./src/form/components/array.js\");\n/* harmony import */ var _components_date_adder_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/date_adder.js */ \"./src/form/components/date_adder.js\");\n/* harmony import */ var _components_number_to_letter_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/number_to_letter.js */ \"./src/form/components/number_to_letter.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst FormElementFactory = (conf, IDSuffix, hasDataValidate) => {\n    switch (conf.schema.type) {\n        case 'input':\n            return (0,_components_input_with_label_js__WEBPACK_IMPORTED_MODULE_4__.InputWithLabelFactory)(conf, IDSuffix, hasDataValidate);\n        case 'radio':\n            return (0,_components_radio_group_js__WEBPACK_IMPORTED_MODULE_0__.RadioGroupFactory)(conf, IDSuffix, hasDataValidate);\n        case 'radio_with_other':\n            return (0,_components_radio_with_other_js__WEBPACK_IMPORTED_MODULE_1__.RadioGroupWithOtherFactory)(conf, IDSuffix, hasDataValidate);\n        case 'select':\n            return (0,_components_select_with_label_js__WEBPACK_IMPORTED_MODULE_2__.SelectWithLabelFactory)(conf, IDSuffix, hasDataValidate);\n        case 'select_with_other':\n            return (0,_components_select_with_other_js__WEBPACK_IMPORTED_MODULE_5__.SelectWithOtherFactory)(conf, IDSuffix, hasDataValidate);\n        case 'conditional_form':\n            return (0,_components_conditionnal_form_js__WEBPACK_IMPORTED_MODULE_6__.ConditionnalFormFactory)(conf, IDSuffix);\n        case 'form_group':\n            return (0,_components_form_group_js__WEBPACK_IMPORTED_MODULE_3__.FormGroupFactory)(conf, IDSuffix);\n        case 'loop':\n            return (0,_components_loop_js__WEBPACK_IMPORTED_MODULE_7__.LoopFactory)(conf);\n        case 'computed':\n            return (0,_components_computed_factory_js__WEBPACK_IMPORTED_MODULE_8__.ComputedFactory)(conf, IDSuffix, false, hasDataValidate);\n        case 'array':\n            return (0,_components_array_js__WEBPACK_IMPORTED_MODULE_9__.ArrayFactory)(conf, IDSuffix);\n        case 'date_adder':\n            return (0,_components_date_adder_js__WEBPACK_IMPORTED_MODULE_10__.DateAdderFactory)(conf, IDSuffix, hasDataValidate);\n        case 'number_to_letter':\n            return (0,_components_number_to_letter_js__WEBPACK_IMPORTED_MODULE_11__.NumberToLetterFactory)(conf, IDSuffix, hasDataValidate);\n        default:\n            return document.createElement('div');\n    }\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/form_element_factory.js?");

/***/ }),

/***/ "./src/form/form_validator.js":
/*!************************************!*\
  !*** ./src/form/form_validator.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _dialog_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dialog/dialog */ \"./src/dialog/dialog.js\");\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/store */ \"./src/store/store.js\");\n/* harmony import */ var _page_page_control__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./page/page-control */ \"./src/form/page/page-control.js\");\n/* harmony import */ var _page_progress__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./page/progress */ \"./src/form/page/progress.js\");\n\n\n\n\n\nconst FormValidator = (() => {\n    const init = (config) => {\n        document\n            .getElementById(config.nextButtonId)\n            .addEventListener('form-ended', formEndedhandler);\n    };\n\n    const formEndedhandler = () => {\n        const rawReport = _store_store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get('report');\n        let report = JSON.parse(rawReport) || [];\n        _store_store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].save('filled_contract', document.getElementById('preview').innerHTML);\n\n        if (report.length <= 0) {\n            window.location.href = '/payment?contract_name=' + _store_store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getContractName();\n            return;\n        }\n\n        const modalContent = getMissingInputsModalContent();\n        (0,_dialog_dialog__WEBPACK_IMPORTED_MODULE_0__.setTitle)('Etes vous sûrs de vouloir poursuivre ? Certaines réponses sont incomplètes:');\n        (0,_dialog_dialog__WEBPACK_IMPORTED_MODULE_0__.setDialogContent)(modalContent);\n        (0,_dialog_dialog__WEBPACK_IMPORTED_MODULE_0__.showDialog)();\n        return;\n    };\n\n    const getMissingInputsModalContent = () => {\n        const div = document.createElement('div');\n\n        let report = JSON.parse(_store_store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get('report')) || [];\n        report.sort();\n\n        report.forEach((invalidPageNumber) => {\n            const reportLine = `Page ${invalidPageNumber} - ${\n                document.getElementById(`page_${invalidPageNumber}`).dataset.pageTitle\n            }`;\n\n            const p = document.createElement('p');\n            p.innerText = reportLine;\n            p.classList.add('report-line');\n            p.addEventListener('click', (e) => {\n                (0,_page_page_control__WEBPACK_IMPORTED_MODULE_2__.getSwitchPageHandler)((pageNumber, pageCount, e) => {\n                    _page_progress__WEBPACK_IMPORTED_MODULE_3__[\"default\"].selectSegment(invalidPageNumber - 1);\n                    return invalidPageNumber;\n                })();\n                (0,_dialog_dialog__WEBPACK_IMPORTED_MODULE_0__.closeDialog)();\n            });\n            div.appendChild(p);\n        });\n\n        const buttonsContainer = document.createElement('div');\n        buttonsContainer.classList.add('report-modal-buttons-container');\n        buttonsContainer.appendChild(createContinueToPaymentButton());\n        buttonsContainer.appendChild(createBackOnFormButton(parseInt(report[0]) || undefined));\n        div.appendChild(buttonsContainer);\n        return div;\n    };\n\n    const createContinueToPaymentButton = () => {\n        const continueButton = document.createElement('a');\n        continueButton.classList.add('pay-button');\n        continueButton.innerText = 'PAYER';\n        continueButton.href = '/payment?contract_name=' + _store_store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getContractName();\n        return continueButton;\n    };\n\n    const createBackOnFormButton = (firstInvalidPageID) => {\n        const backOnFormButton = document.createElement('button');\n        backOnFormButton.innerText = 'Retour sur le formulaire';\n        backOnFormButton.addEventListener('click', () => {\n            if (!firstInvalidPageID) {\n                return;\n            }\n\n            const switchPageFn = (0,_page_page_control__WEBPACK_IMPORTED_MODULE_2__.getSwitchPageHandler)((pageNumber, pageCount, e) => {\n                _page_progress__WEBPACK_IMPORTED_MODULE_3__[\"default\"].selectSegment(firstInvalidPageID - 1);\n                return firstInvalidPageID;\n            });\n\n            switchPageFn();\n            (0,_dialog_dialog__WEBPACK_IMPORTED_MODULE_0__.closeDialog)();\n        });\n        backOnFormButton.classList.add('back-to-form');\n        return backOnFormButton;\n    };\n\n    return {\n        init,\n    };\n})();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FormValidator);\n\n\n//# sourceURL=webpack://contract-builder/./src/form/form_validator.js?");

/***/ }),

/***/ "./src/form/page/page-control-next-button.js":
/*!***************************************************!*\
  !*** ./src/form/page/page-control-next-button.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   processNextPage: () => (/* binding */ processNextPage)\n/* harmony export */ });\nconst processNextPage = (pageNumber, pageCount, e) => {\n    const nextButton = e.currentTarget;\n    if (nextButton.dataset.timeToValidate === 'true') {\n        nextButton.dispatchEvent(new Event('form-ended'));\n        return -1;\n    }\n\n    pageNumber++;\n    if (pageNumber >= pageCount) {\n        return pageCount;\n    }\n\n    return pageNumber;\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/page/page-control-next-button.js?");

/***/ }),

/***/ "./src/form/page/page-control-previous-button.js":
/*!*******************************************************!*\
  !*** ./src/form/page/page-control-previous-button.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   processPreviousPage: () => (/* binding */ processPreviousPage)\n/* harmony export */ });\nconst processPreviousPage = (pageNumber, pageCount, e) => {\n    pageNumber--;\n    if (pageNumber < 1) {\n        pageNumber = 1;\n    }\n\n    return pageNumber;\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/page/page-control-previous-button.js?");

/***/ }),

/***/ "./src/form/page/page-control.js":
/*!***************************************!*\
  !*** ./src/form/page/page-control.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addPageControlListeners: () => (/* binding */ addPageControlListeners),\n/* harmony export */   getSwitchPageHandler: () => (/* binding */ getSwitchPageHandler),\n/* harmony export */   hidePage: () => (/* binding */ hidePage),\n/* harmony export */   showPage: () => (/* binding */ showPage)\n/* harmony export */ });\n/* harmony import */ var _page_control_next_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./page-control-next-button */ \"./src/form/page/page-control-next-button.js\");\n/* harmony import */ var _page_control_previous_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./page-control-previous-button */ \"./src/form/page/page-control-previous-button.js\");\n/* harmony import */ var _progress__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./progress */ \"./src/form/page/progress.js\");\n/* harmony import */ var _validate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./validate */ \"./src/form/page/validate.js\");\n\n\n\n\n\nconst addPageControlListeners = () => {\n    const nextPageHandler = getSwitchPageHandler(_page_control_next_button__WEBPACK_IMPORTED_MODULE_0__.processNextPage);\n    document.getElementById('next_button').addEventListener('click', nextPageHandler);\n\n    const previousPageHandler = getSwitchPageHandler(_page_control_previous_button__WEBPACK_IMPORTED_MODULE_1__.processPreviousPage);\n    document.getElementById('prev_button').addEventListener('click', previousPageHandler);\n};\n\nconst getSwitchPageHandler = (processPageFn) => {\n    const nextButton = document.getElementById('next_button');\n    return (e) => {\n        let pageNumber = getCurrentPageNumber();\n        let pageCount = getPageCount();\n        hidePage(pageNumber);\n\n        const pageIsValid = (0,_validate__WEBPACK_IMPORTED_MODULE_3__.validatePage)(pageNumber);\n        pageIsValid\n            ? _progress__WEBPACK_IMPORTED_MODULE_2__[\"default\"].segmentIsValid(pageNumber - 1)\n            : _progress__WEBPACK_IMPORTED_MODULE_2__[\"default\"].segmentIsNotValid(pageNumber - 1);\n\n        const newPageNumber = processPageFn(pageNumber, pageCount, e);\n        if (newPageNumber < 0) {\n            return;\n        }\n\n        if (newPageNumber === pageCount) {\n            nextButton.querySelector('span').innerText = 'VALIDER LE CONTRAT';\n            nextButton.setAttribute('data-time-to-validate', true);\n        } else {\n            nextButton.querySelector('span').innerText = 'SUIVANT';\n            nextButton.setAttribute('data-time-to-validate', false);\n        }\n\n        _progress__WEBPACK_IMPORTED_MODULE_2__[\"default\"].selectSegment(newPageNumber - 1);\n\n        showPage(newPageNumber);\n    };\n};\n\nconst hidePage = (pageNumber) => {\n    const page = document.getElementById(`page_${pageNumber}`);\n    page.hidden = true;\n};\n\nconst showPage = (newPageNumber) => {\n    const targetPage = document.getElementById(`page_${newPageNumber}`);\n    targetPage.hidden = false;\n\n    const pageNumberInput = document.getElementById('page_number');\n    pageNumberInput.setAttribute('value', newPageNumber);\n\n    const pageTitle = document.getElementById('page-title');\n    pageTitle.innerText = targetPage.getAttribute('data-page-title');\n};\n\nconst getCurrentPageNumber = () => {\n    const pageNumberInput = document.getElementById('page_number');\n    return parseInt(pageNumberInput.value);\n};\n\nconst getPageCount = () => {\n    const pageTotalInput = document.getElementById('page_number_total');\n    return parseInt(pageTotalInput.value);\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/page/page-control.js?");

/***/ }),

/***/ "./src/form/page/page.js":
/*!*******************************!*\
  !*** ./src/form/page/page.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PageFactory: () => (/* binding */ PageFactory),\n/* harmony export */   addPageTitle: () => (/* binding */ addPageTitle),\n/* harmony export */   deletePage: () => (/* binding */ deletePage),\n/* harmony export */   extractPageNumberFromID: () => (/* binding */ extractPageNumberFromID),\n/* harmony export */   getClosestPage: () => (/* binding */ getClosestPage),\n/* harmony export */   newPage: () => (/* binding */ newPage)\n/* harmony export */ });\n/* harmony import */ var _form_element_factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form_element_factory */ \"./src/form/form_element_factory.js\");\n/* harmony import */ var _progress__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./progress */ \"./src/form/page/progress.js\");\n\n\n\n/**\n * Factory function for creating a new page and appending it to the contract form.\n * Use this function to append a page to the form.\n *\n * @function PageFactory\n * @param {Object} conf - The configuration object for creating the page.\n * @param {number} pageNumber - The page number.\n */\nconst PageFactory = (conf, pageNumber) => {\n    const page = newEmptyPageWithLabel(pageNumber, conf.label);\n    const contractForm = document.getElementById('contract-form');\n    contractForm.appendChild(page);\n    addPageItems(page, conf.schema.items);\n};\n\n/**\n * Creates a new page with the specified page number and items, then inserts it into the contract form.\n * Use this function to insert a page between other pages.\n *\n * @function newPage\n * @param {number} pageNumber - The page number for the new page.\n * @param {Array} items - An optional array of items to be added to the new page.\n * @returns {Element} The created page element.\n */\nconst newPage = (pageNumber, items = [], label) => {\n    const pageCountInput = document.getElementById('page_number_total');\n\n    shiftPagesIDUpward(pageCountInput.value, pageNumber);\n\n    const page = newEmptyPageWithLabel(pageNumber, label);\n    const workspace = document.getElementById('workspace');\n    workspace.appendChild(page);\n    addPageItems(page, items);\n    workspace.removeChild(page);\n\n    // Insert the new page before the next page in the form\n    const contractForm = document.getElementById('contract-form');\n    contractForm.insertBefore(page, document.getElementById(`page_${pageNumber + 1}`));\n\n    // Update the total page count input value\n    let pageCountInputvalue = parseInt(pageCountInput.value);\n    pageCountInputvalue += 1;\n    pageCountInput.setAttribute('value', pageCountInputvalue++);\n    pageCountInput.dispatchEvent(new Event('input'));\n\n    _progress__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createSegmentAt(pageNumber - 1);\n\n    return page;\n};\n\n/**\n * Deletes the page with the specified ID from the contract form.\n *\n * @function deletePage\n * @param {string} pageID - The ID of the page to be deleted.\n */\nconst deletePage = (pageID) => {\n    const pageCountInput = document.getElementById('page_number_total');\n    const pageToDelete = document.getElementById(pageID);\n    const pageNumber = extractPageNumberFromID(pageID);\n\n    shiftPagesIDDownward(pageCountInput.value, pageNumber);\n\n    // Remove the page from the contract form\n    const contractForm = document.getElementById('contract-form');\n    contractForm.removeChild(pageToDelete);\n\n    // Update the total page count input value\n    let pageCountInputvalue = parseInt(pageCountInput.value);\n    pageCountInputvalue -= 1;\n    pageCountInput.setAttribute('value', pageCountInputvalue);\n    pageCountInput.dispatchEvent(new Event('input'));\n\n    _progress__WEBPACK_IMPORTED_MODULE_1__[\"default\"].deleteSegmentAt(pageNumber - 1);\n};\n\n/**\n * Shifts the IDs of pages upward starting from the specified target page number.\n *\n * @function shiftPagesIDUpward\n * @param {number} pageCount - The total number of pages.\n * @param {number} targetPageNumber - The target page number from which to start shifting upward.\n * @returns {void}\n */\nconst shiftPagesIDUpward = (pageCount, targetPageNumber) => {\n    const shiftFn = (pageNumber) => `page_${parseInt(pageNumber) + 1}`;\n    shiftPagesID(pageCount, targetPageNumber, shiftFn);\n};\n\n/**\n * Shifts the IDs of pages downward starting from the specified target page number.\n *\n * @function shiftPagesIDDownward\n * @param {number} pageCount - The total number of pages.\n * @param {number} targetPageNumber - The target page number from which to start shifting downward.\n * @returns {void}\n */\nconst shiftPagesIDDownward = (pageCount, targetPageNumber) => {\n    const shiftFn = (pageNumber) => `page_${parseInt(pageNumber) - 1}`;\n    shiftPagesID(pageCount, targetPageNumber, shiftFn);\n};\n\n/**\n * Shifts the IDs of pages based on a custom shift function.\n *\n * @function shiftPagesID\n * @param {number} pageCount - The total number of pages.\n * @param {number} targetPageNumber - The target page number from which to start shifting.\n * @param {function} shiftFn - A function that takes a page number and returns the new shifted ID.\n * @returns {void}\n */\nconst shiftPagesID = (pageCount, targetPageNumber, shiftFn) => {\n    const pagesToShift = [];\n    const newIDs = [];\n\n    for (let i = targetPageNumber; i <= pageCount; i++) {\n        const pageNumber = i;\n        const page = document.getElementById(`page_${pageNumber}`);\n        pagesToShift.push(page);\n        newIDs.push(shiftFn(pageNumber));\n    }\n\n    for (let i = 0; i < pagesToShift.length; i++) {\n        pagesToShift[i].id = newIDs[i];\n    }\n};\n\n/**\n * Creates a new empty page element with a label.\n *\n * @function newEmptyPageWithLabel\n * @param {number} pageNumber - The page number used to generate the page ID.\n * @param {string} label - The label to be added to the page.\n * @returns {HTMLDivElement} - The newly created empty page element with a label.\n */\nconst newEmptyPageWithLabel = (pageNumber, label) => {\n    const page = document.createElement('div');\n    page.id = `page_${pageNumber}`;\n    page.hidden = true;\n    addPageTitle(page, label);\n    return page;\n};\n\n/**\n * Adds a title to a given page element as a data attribute.\n *\n * @function addPageTitle\n * @param {HTMLElement} page - The page element to which the title will be added.\n * @param {string} title - The title to be added to the page.\n *\n * @example\n * // Usage:\n * const myPage = document.createElement('div');\n * addPageTitle(myPage, 'Page Title');\n */\nconst addPageTitle = (page, title) => {\n    // Check if the title is null or undefined, and return if true\n    if (title == null) {\n        return;\n    }\n\n    // Set the data-page-title attribute on the page element\n    page.setAttribute('data-page-title', title);\n};\n\n/**\n * Adds form elements to a page based on the provided items and suffix if provided.\n *\n * @function addPageItems\n * @param {HTMLElement} page - The HTML element representing the page to which form elements will be added.\n * @param {any[]} items - An array of form elements to be added to the page.\n * @param {string} suffix - An optionnal suffix to be used for generating unique IDs within the page.\n * @returns {void}\n */\nconst addPageItems = (page, items, suffix) => {\n    items.forEach((item) => {\n        page.appendChild((0,_form_element_factory__WEBPACK_IMPORTED_MODULE_0__.FormElementFactory)(item, suffix, true));\n    });\n};\n\n/**\n * Extracts the page number from the given page ID.\n *\n * @function extractPageNumberFromID\n * @param {string} pageID - The ID of the page.\n * @returns {number} The extracted page number.\n */\nconst extractPageNumberFromID = (pageID) => {\n    return parseInt(pageID.split('_').pop());\n};\n\nconst getClosestPage = (node) => {\n    return node.closest('[id^=\"page\"]');\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/page/page.js?");

/***/ }),

/***/ "./src/form/page/progress.js":
/*!***********************************!*\
  !*** ./src/form/page/progress.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst Progress = (() => {\n    class ProgressBar extends HTMLElement {\n        constructor({\n            activeSegmentClass,\n            validSegmentClass,\n            invalidSegmentClass,\n            segmentClass,\n            onSegmentClick,\n            getSegmentCount,\n        }) {\n            super();\n            this._activeSegmentClass = activeSegmentClass;\n            this._validSegmentClass = validSegmentClass;\n            this._invalidSegmentClass = invalidSegmentClass;\n            this._segmentClass = segmentClass;\n            this._onSegmentClick = onSegmentClick;\n            this._getSegmentCount = getSegmentCount;\n\n            this._activeSegmentRef = null;\n        }\n\n        render() {\n            this.style.maxWidth = '100%';\n            this.style.display = 'flex';\n            this.style.flexDirection = 'row';\n            this.style.gap = '1rem';\n\n            const pageCount = parseInt(this._getSegmentCount() || 0);\n            for (let i = 0; i < pageCount; i++) {\n                const segment = this.createSegment();\n                this.appendChild(segment);\n            }\n\n            this.selectSegment(0);\n        }\n\n        createSegment() {\n            const span = document.createElement('span');\n            span.classList.add(this._segmentClass);\n            span.classList.add(this._invalidSegmentClass);\n            if (this._onSegmentClick) span.addEventListener('click', this._onSegmentClick);\n            return span;\n        }\n\n        selectSegment(segmentIndex) {\n            if (this._activeSegmentRef) {\n                this._activeSegmentRef.classList.remove(this._activeSegmentClass);\n            }\n            const newActiveSegment = this.children.item(segmentIndex);\n            newActiveSegment.classList.add(this._activeSegmentClass);\n            this._activeSegmentRef = newActiveSegment;\n        }\n\n        setValidSegment(segmentIndex) {\n            this.children.item(segmentIndex).classList.remove(this._invalidSegmentClass);\n            this.children.item(segmentIndex).classList.add(this._validSegmentClass);\n        }\n\n        setInvalidSegment(segmentIndex) {\n            this.children.item(segmentIndex).classList.remove(this._validSegmentClass);\n            this.children.item(segmentIndex).classList.add(this._invalidSegmentClass);\n        }\n\n        insertSegmentAt(index) {\n            let predecessorIndex = index - 1;\n            if (predecessorIndex < 0) {\n                predecessorIndex = 0;\n            }\n            this.children.item(predecessorIndex).after(this.createSegment());\n        }\n\n        deleteSegmentAt(index) {\n            this.children.item(index).remove();\n        }\n\n        connectedCallback() {\n            this.render();\n        }\n    }\n\n    customElements.define('progress-bar', ProgressBar);\n\n    let progressBarRef = null;\n\n    const init = (config) => {\n        progressBarRef = new ProgressBar(config);\n        document.getElementById(config.container).appendChild(progressBarRef);\n    };\n\n    const createSegmentAt = (segmentIndex) => {\n        progressBarRef.insertSegmentAt(segmentIndex);\n    };\n\n    const deleteSegmentAt = (segmentIndex) => {\n        progressBarRef.deleteSegmentAt(segmentIndex);\n    };\n\n    const selectSegment = (segmentIndex) => {\n        progressBarRef.selectSegment(segmentIndex);\n    };\n\n    const segmentIsValid = (segmentIndex) => {\n        progressBarRef.setValidSegment(segmentIndex);\n    };\n\n    const segmentIsNotValid = (segmentIndex) => {\n        progressBarRef.setInvalidSegment(segmentIndex);\n    };\n\n    return {\n        init,\n        deleteSegmentAt,\n        createSegmentAt,\n        selectSegment,\n        segmentIsValid,\n        segmentIsNotValid,\n    };\n})();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Progress);\n\n\n//# sourceURL=webpack://contract-builder/./src/form/page/progress.js?");

/***/ }),

/***/ "./src/form/page/validate.js":
/*!***********************************!*\
  !*** ./src/form/page/validate.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validatePage: () => (/* binding */ validatePage)\n/* harmony export */ });\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../store/store */ \"./src/store/store.js\");\n/* harmony import */ var _utils_node_value__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/node_value */ \"./src/form/utils/node_value.js\");\n\n\n\nconst validatePage = (pageNumber) => {\n    const currentPage = document.getElementById(`page_${pageNumber}`);\n    const inputs = currentPage.querySelectorAll('[data-validate=\"true\"]');\n\n    let report = JSON.parse(_store_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get('report')) || [];\n\n    for (const input of inputs) {\n        const value = (0,_utils_node_value__WEBPACK_IMPORTED_MODULE_1__.getNodeValue)(input);\n        if (value == null || value == '' || value == 'none') {\n            if (!report.includes(pageNumber)) {\n                report.push(pageNumber);\n            }\n            _store_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].save('report', JSON.stringify(report));\n            return false;\n        }\n    }\n\n    // At this point the page is valid\n    const existingReportLineIndex = report.indexOf(pageNumber);\n    if (existingReportLineIndex != -1) {\n        report.splice(existingReportLineIndex, 1);\n        _store_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].save('report', JSON.stringify(report));\n    }\n    return true;\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/page/validate.js?");

/***/ }),

/***/ "./src/form/utils/infer_id.js":
/*!************************************!*\
  !*** ./src/form/utils/infer_id.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   inferId: () => (/* binding */ inferId)\n/* harmony export */ });\n/**\n * Infers and returns an ID based on the provided ID and an optional suffix.\n * If a valid suffix is provided, it appends the suffix to the original ID; otherwise, returns the original ID.\n *\n * @function inferId\n * @param {string} id - The original ID.\n * @param {string} [suffix] - Optional suffix to append to the original ID for uniqueness.\n * @returns {string} The inferred ID.\n */\nconst inferId = (id, suffix) => {\n    const newID = suffix == null ? id : `${id.trim()}_${suffix}`;\n    return newID.trim();\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/utils/infer_id.js?");

/***/ }),

/***/ "./src/form/utils/node_value.js":
/*!**************************************!*\
  !*** ./src/form/utils/node_value.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getNodeValue: () => (/* binding */ getNodeValue)\n/* harmony export */ });\n/**\n * Retrieves the value of a form element node, either from its 'value' property or the 'value' attribute.\n *\n * @function getNodeValue\n * @param {HTMLElement} node - The form element node.\n * @returns {string} The value of the form element.\n */\nconst getNodeValue = (node) => {\n    return node.value == null ? node.getAttribute('value') : node.value;\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/utils/node_value.js?");

/***/ }),

/***/ "./src/form/utils/remove_children.js":
/*!*******************************************!*\
  !*** ./src/form/utils/remove_children.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   removeChildren: () => (/* binding */ removeChildren)\n/* harmony export */ });\n/**\n * Removes all child elements from a given parent node.\n *\n * @function removeChildren\n * @param {Node} node - The parent node from which child elements will be removed.\n */\nconst removeChildren = (node) => {\n    // Continue removing child nodes while there are still child nodes present\n    while (node.firstChild) {\n        node.removeChild(node.firstChild);\n    }\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/form/utils/remove_children.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _form_page_page_control_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./form/page/page-control.js */ \"./src/form/page/page-control.js\");\n/* harmony import */ var _template_parser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./template/parser.js */ \"./src/template/parser.js\");\n/* harmony import */ var _form_page_progress_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./form/page/progress.js */ \"./src/form/page/progress.js\");\n/* harmony import */ var _form_form_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./form/form.js */ \"./src/form/form.js\");\n/* harmony import */ var _airtable_template_data_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./airtable/template_data.js */ \"./src/airtable/template_data.js\");\n/* harmony import */ var _store_store_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./store/store.js */ \"./src/store/store.js\");\n/* harmony import */ var _dialog_dialog_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dialog/dialog.js */ \"./src/dialog/dialog.js\");\n/* harmony import */ var _form_form_validator_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./form/form_validator.js */ \"./src/form/form_validator.js\");\n\n\n\n\n\n\n\n\n\nwindow.onload = async () => {\n    (0,_dialog_dialog_js__WEBPACK_IMPORTED_MODULE_6__.initDialog)();\n    (0,_dialog_dialog_js__WEBPACK_IMPORTED_MODULE_6__.showDialog)();\n\n    (0,_dialog_dialog_js__WEBPACK_IMPORTED_MODULE_6__.setDialogText)('Chargement de votre contrat...');\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const contractName = urlParams.get('contract_name') || undefined;\n    const resumeLastContract = urlParams.get('resume') === 'true' || false;\n\n    if (!contractName) {\n        (0,_dialog_dialog_js__WEBPACK_IMPORTED_MODULE_6__.setDialogText)(`Aucun contrat n'a été sélectionné.`);\n        window.history.back();\n        return;\n    }\n\n    _store_store_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].init(contractName);\n\n    if (!resumeLastContract) {\n        _store_store_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].clear();\n    }\n\n    const { jsonData, parsedTemplateDOM, paymentLink } = await (0,_airtable_template_data_js__WEBPACK_IMPORTED_MODULE_4__.fetchTemplateData)(\n        contractDBID,\n        contractName,\n        contractDBKey\n    );\n\n    _form_form_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].generate(jsonData);\n    (0,_template_parser_js__WEBPACK_IMPORTED_MODULE_1__.parse)(parsedTemplateDOM);\n\n    _form_page_progress_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].init({\n        container: 'progress-bar',\n        activeSegmentClass: 'progress-active',\n        validSegmentClass: 'progress-valid',\n        invalidSegmentClass: 'progress-invalid',\n        segmentClass: 'progress-segment',\n        onSegmentClick: (0,_form_page_page_control_js__WEBPACK_IMPORTED_MODULE_0__.getSwitchPageHandler)((pageNumber, pageCount, e) => {\n            const progressBar = e.target.parentElement;\n            const segmentIndex = Array.from(progressBar.children).indexOf(e.target);\n            _form_page_progress_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].selectSegment(segmentIndex);\n            return segmentIndex + 1;\n        }),\n        getSegmentCount: () => {\n            return parseInt(document.getElementById('page_number_total').value);\n        },\n    });\n\n    _form_form_validator_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].init({\n        nextButtonId: 'next_button',\n    });\n\n    (0,_form_page_page_control_js__WEBPACK_IMPORTED_MODULE_0__.addPageControlListeners)();\n\n    if (resumeLastContract === true) {\n        console.log('baba');\n        // Trigger event to tell the UI that the form is generated.\n        // Each elements listening to that events will trigger themself\n        // to look for saved data and reload the preview.\n        document.dispatchEvent(new Event('contract-generated'));\n        _form_form_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].resume();\n    }\n\n    _store_store_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].save('payment_link', paymentLink);\n\n    localStorage.setItem(contractName, true);\n\n    (0,_dialog_dialog_js__WEBPACK_IMPORTED_MODULE_6__.closeDialog)();\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/index.js?");

/***/ }),

/***/ "./src/store/store.js":
/*!****************************!*\
  !*** ./src/store/store.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst Store = (() => {\n    // Variable to store the contract name for local storage keys\n    let contractName;\n\n    /**\n     * Initializes the store with a new contract name.\n     * @param {string} newContractName - The name of the contract.\n     */\n    const init = (newContractName) => {\n        // Set the contract name for use in local storage keys\n        contractName = newContractName;\n    };\n\n    /**\n     * Saves a key-value pair to the local storage using the initialized contract name.\n     * @param {string} key - The key for the local storage entry.\n     * @param {string} value - The value to be stored.\n     * @throws {Error} Throws an error if the store is not initialized.\n     */\n    const save = (key, value) => {\n        // Check if the store is initialized\n        if (!contractName) {\n            throw new Error('Store must be initialized before first use.');\n        }\n\n        // Save the key-value pair to local storage\n        localStorage.setItem(contractName + key, value);\n    };\n\n    /**\n     * Retrieves the value associated with the provided key from local storage.\n     * @param {string} key - The key for the local storage entry.\n     * @returns {string|null} The stored value or null if the key is not found.\n     * @throws {Error} Throws an error if the store is not initialized.\n     */\n    const get = (key) => {\n        // Check if the store is initialized\n        if (!contractName) {\n            throw new Error('Store must be initialized before first use.');\n        }\n\n        // Retrieve the value associated with the key from local storage\n        return localStorage.getItem(contractName + key);\n    };\n\n    /**\n     * Deletes all contract-related data from local storage.\n     * @throws {Error} Throws an error if the store is not initialized.\n     */\n    const clear = () => {\n        // Check if the store is initialized\n        if (!contractName) {\n            throw new Error('Store must be initialized before first use.');\n        }\n\n        // Get all keys from local storage\n        const keys = Object.keys(localStorage);\n\n        // Iterate through keys and remove those associated with the current contract\n        for (const key of keys) {\n            if (key.startsWith(contractName)) {\n                localStorage.removeItem(key);\n            }\n        }\n    };\n\n    const getContractName = () => {\n        return contractName;\n    };\n\n    return {\n        init,\n        save,\n        get,\n        clear,\n        getContractName,\n    };\n})();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Store);\n\n\n//# sourceURL=webpack://contract-builder/./src/store/store.js?");

/***/ }),

/***/ "./src/template/array_tag.js":
/*!***********************************!*\
  !*** ./src/template/array_tag.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   replaceArrayTag: () => (/* binding */ replaceArrayTag)\n/* harmony export */ });\n/* harmony import */ var _form_utils_infer_id__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form/utils/infer_id */ \"./src/form/utils/infer_id.js\");\n/* harmony import */ var _form_utils_node_value__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../form/utils/node_value */ \"./src/form/utils/node_value.js\");\n/* harmony import */ var _matches__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./matches */ \"./src/template/matches.js\");\n\n\n\n\nconst arrayTagRegex = /{{#array\\s{1}(.*)}}/g;\n\nconst replaceArrayTag = (currentLine, suffix) => {\n    const matches = (0,_matches__WEBPACK_IMPORTED_MODULE_2__.getMatches)(currentLine, arrayTagRegex);\n    if (!matches || matches.length != 2) {\n        console.error(\"can't get array tag whereas is should be present.\");\n        return {};\n    }\n\n    const arrayFormElementID = (0,_form_utils_infer_id__WEBPACK_IMPORTED_MODULE_0__.inferId)(matches[1], suffix);\n\n    const arrayElement = document.getElementById(arrayFormElementID);\n\n    arrayElement.addEventListener('newRow', () => {\n        generateTable(arrayElement, arrayFormElementID, suffix);\n    });\n\n    arrayElement.addEventListener('rowDeleted', () => {\n        generateTable(arrayElement, arrayFormElementID, suffix);\n    });\n\n    const total = arrayElement.totalInputRef;\n    total.addEventListener('input', () => {\n        const totalPreview = document.getElementById(`preview_${total.id}`);\n        if (totalPreview.firstChild != null) {\n            totalPreview.removeChild(totalPreview.firstChild);\n        }\n        const p = document.createElement('p');\n        p.innerText = `Total: ${(0,_form_utils_node_value__WEBPACK_IMPORTED_MODULE_1__.getNodeValue)(total)}`;\n        totalPreview.appendChild(p);\n    });\n\n    return `<div id=\"div_${arrayFormElementID}\"><table id=\"table_${arrayFormElementID}\"></table><div id=\"preview_${total.id}\"></div></div>`;\n};\n\nconst generateTable = (arrayElement, arrayFormElementID, suffix) => {\n    const tableContainer = document.getElementById(`div_${arrayFormElementID}`);\n    const table = document.getElementById(`table_${arrayFormElementID}`);\n\n    const newTable = document.createElement('table');\n    newTable.id = `table_${arrayFormElementID}`;\n\n    tableContainer.replaceChild(newTable, table);\n\n    const thead = document.createElement('thead');\n    const htr = document.createElement('tr');\n\n    newTable.appendChild(thead);\n    thead.appendChild(htr);\n\n    const columns = arrayElement.columns;\n    columns.forEach((col) => {\n        const th = document.createElement('th');\n        const p = document.createElement('p');\n        const textContainer = document.createElement('strong');\n        textContainer.innerText = col.label;\n        p.appendChild(textContainer);\n        th.appendChild(p);\n        htr.appendChild(th);\n    });\n\n    const tbody = document.createElement('tbody');\n    // Create row by row\n\n    const activeRows = arrayElement.activeRows;\n    activeRows.forEach((row) => {\n        const tr = document.createElement('tr');\n        row.forEach((colElementID) => {\n            const td = document.createElement('td');\n            const elem = document.getElementById(colElementID);\n            elem.addEventListener('input', () => {\n                addTableCellContent(td, elem);\n            });\n\n            addTableCellContent(td, elem);\n            tr.appendChild(td);\n        });\n        tbody.appendChild(tr);\n    });\n    newTable.appendChild(tbody);\n};\n\nconst addTableCellContent = (td, elem) => {\n    const text = document.createElement('p');\n    text.innerText = (0,_form_utils_node_value__WEBPACK_IMPORTED_MODULE_1__.getNodeValue)(elem);\n    if (td.firstChild != null) {\n        td.replaceChild(text, td.firstChild);\n    } else {\n        td.appendChild(text);\n    }\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/template/array_tag.js?");

/***/ }),

/***/ "./src/template/conditionnal_tag.js":
/*!******************************************!*\
  !*** ./src/template/conditionnal_tag.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   replaceConditionnalTag: () => (/* binding */ replaceConditionnalTag)\n/* harmony export */ });\n/* harmony import */ var _form_utils_infer_id__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form/utils/infer_id */ \"./src/form/utils/infer_id.js\");\n/* harmony import */ var _form_utils_node_value__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../form/utils/node_value */ \"./src/form/utils/node_value.js\");\n/* harmony import */ var _matches__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./matches */ \"./src/template/matches.js\");\n\n\n\n\nconst ifRegex = /{{#if\\s{1}(.*)}}/g;\nconst ifConditionParameters = /^(eq|neq)\\s+(.*)\\s+\"([^\"]+)\"$/gm;\nconst OR = '|';\nconst AND = '&';\n\n// TODO gérer tous les opérateurs, ne pas oublier d'update la regex avec\n// la liste des opérateurs supportés.\nconst replaceConditionnalTag = (line, idSuffix) => {\n    // match the whole if condition content\n    const matches = (0,_matches__WEBPACK_IMPORTED_MODULE_2__.getMatches)(line, ifRegex);\n    if (!matches || matches.length != 2) {\n        console.error('no match found for line', line);\n        return '';\n    }\n\n    // Match the 3 parameters of the if condition: <operator> <input_id> <value>\n    const conditionMatches = (0,_matches__WEBPACK_IMPORTED_MODULE_2__.getMatches)(matches[1], ifConditionParameters);\n    if (!conditionMatches || conditionMatches.length != 4) {\n        console.error(\"can't get condition parameters for\", matches[1], 'b');\n        return '';\n    }\n\n    const operator = conditionMatches[1];\n    const inputID = (0,_form_utils_infer_id__WEBPACK_IMPORTED_MODULE_0__.inferId)(conditionMatches[2], idSuffix);\n    const value = conditionMatches[3];\n    let logicOperator = 'none';\n    let values = [];\n    if (value.includes(OR)) {\n        values = value.split(OR);\n        logicOperator = OR;\n    } else if (value.includes(AND)) {\n        values = value.split(AND);\n        logicOperator = AND;\n    } else {\n        values = [value];\n    }\n\n    const uuid = crypto.randomUUID();\n    const conditionnalPreviewID = (0,_form_utils_infer_id__WEBPACK_IMPORTED_MODULE_0__.inferId)(`div_${uuid}_${inputID}`, idSuffix);\n\n    const input = document.getElementById(inputID);\n    input.addEventListener('input', () => {\n        applyCondition(input, conditionnalPreviewID, values, operator, logicOperator);\n    });\n\n    let newLine = line.replace(ifRegex, (_) => {\n        return `<div id=\"${conditionnalPreviewID}\" style=\"display:none;\">`;\n    });\n\n    return newLine;\n};\n\nconst applyCondition = (targetInput, conditionnalPreviewID, values, operator, logicOperator) => {\n    const conditionnalPreview = document.getElementById(conditionnalPreviewID);\n    const targetInputValue = (0,_form_utils_node_value__WEBPACK_IMPORTED_MODULE_1__.getNodeValue)(targetInput);\n    if (logicOperator === OR || 'none')\n        applyOrCondition(conditionnalPreview, targetInputValue, values, operator);\n    if (logicOperator === AND)\n        applyAndConidition(conditionnalPreview, targetInputValue, values, operator);\n};\n\n// Implement the OR logic by returning on the first validated condition.\nconst applyOrCondition = (conditionnalPreview, targetInputValue, values, operator) => {\n    for (let i = 0; i < values.length; i++) {\n        const value = values[i];\n        if (conditionIsValidated(targetInputValue, value, operator)) {\n            conditionnalPreview.style.display = 'block';\n            return;\n        }\n    }\n    conditionnalPreview.style.display = 'none';\n};\n\n// Implement the AND logic by returning on the first not validated condition.\nconst applyAndConidition = (conditionnalPreview, targetInputValue, values, operator) => {\n    for (let i = 0; i < values.length; i++) {\n        const value = values[i];\n        if (!conditionIsValidated(targetInputValue, value, operator)) {\n            conditionnalPreview.style.display = 'none';\n            return;\n        }\n    }\n    conditionnalPreview.style.display = 'block';\n};\n\nconst conditionIsValidated = (nodeValue, conditionValue, operator) => {\n    switch (operator) {\n        case 'eq':\n            return nodeValue == conditionValue;\n        case 'neq':\n            return nodeValue != conditionValue;\n        default:\n            break;\n    }\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/template/conditionnal_tag.js?");

/***/ }),

/***/ "./src/template/loop_tag.js":
/*!**********************************!*\
  !*** ./src/template/loop_tag.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   replaceLoopTag: () => (/* binding */ replaceLoopTag)\n/* harmony export */ });\n/* harmony import */ var _form_utils_infer_id__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../form/utils/infer_id */ \"./src/form/utils/infer_id.js\");\n/* harmony import */ var _form_utils_node_value__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../form/utils/node_value */ \"./src/form/utils/node_value.js\");\n/* harmony import */ var _matches__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./matches */ \"./src/template/matches.js\");\n/* harmony import */ var _parser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./parser */ \"./src/template/parser.js\");\n\n\n\n\n\nconst forTagRegex = /{{#for\\s{1}(.*)}}/g;\n\nconst replaceLoopTag = (textLines, currentLine, index, idSuffix) => {\n    const matches = (0,_matches__WEBPACK_IMPORTED_MODULE_2__.getMatches)(currentLine, forTagRegex);\n    if (!matches || matches.length != 2) {\n        console.error(\"can't get for tag whereas is should be present.\");\n        return {};\n    }\n\n    const wholeForTag = matches[0];\n    const iterator = matches[1];\n    const uuid = crypto.randomUUID();\n    const loopContainerID = (0,_form_utils_infer_id__WEBPACK_IMPORTED_MODULE_0__.inferId)(`div_${iterator}_${uuid}`, idSuffix)\n\n    // Get loop content, index to the first line of the loop content\n    const loopContentStartIndex = index + 1;\n    let loopContentIndex = loopContentStartIndex;\n    const loopContent = [];\n\n    while (\n        !textLines[loopContentIndex].includes('{{/for}}') ||\n        loopContentIndex === textLines.length\n    ) {\n        loopContent.push(textLines[loopContentIndex]);\n        loopContentIndex++;\n    }\n\n    const iteratorInput = document.getElementById(iterator);\n\n    // Function to handle input changes and dynamically update loop elements.\n    const iteratorInputListener = () => {\n        const iteratorInputvalue = (0,_form_utils_node_value__WEBPACK_IMPORTED_MODULE_1__.getNodeValue)(iteratorInput);\n\n        // Get the loop container element by its ID.\n        const loopContainer = document.getElementById(loopContainerID);\n\n        // Calculate the number of children to delete based on the input value.\n        let childrenToDelete = loopContainer.childElementCount - parseInt(iteratorInputvalue);\n\n        // Remove excess child elements from the loop container.\n        while (childrenToDelete > 0) {\n            loopContainer.removeChild(loopContainer.lastChild);\n            childrenToDelete--;\n        }\n\n        // Determine the starting index for creating new loop elements.\n        let j = loopContainer.childElementCount > 0 ? loopContainer.childElementCount : 0;\n\n        // Iterate to create and append new loop elements based on the input value.\n        for (j; j < iteratorInputvalue; j++) {\n            // Parse loop content with a copy of the array to avoid modification.\n            const parsedLoopContent = (0,_parser__WEBPACK_IMPORTED_MODULE_3__.parseTextlines)(loopContent.slice(), j);\n\n            // Create a new div element to hold the parsed loop content.\n            const loopContentDiv = document.createElement('div');\n            loopContentDiv.innerHTML = parsedLoopContent.join('');\n\n            // Append the new div element to the loop container.\n            loopContainer.appendChild(loopContentDiv);\n        }\n    };\n\n    iteratorInput.addEventListener('input', iteratorInputListener);\n\n    // Replacing for tag by a div that dynamically generate loop content\n    // const newLine = currentLine.replace(wholeForTag, `<div id=${loopContainerID}>`);\n    const newLine = currentLine.replace(wholeForTag, `<div id=${loopContainerID}>`);\n    // const newLine = `<div id=${loopContainerID}>`;\n    textLines[index] = newLine;\n\n    // Removing the template within the for loop\n    textLines.splice(loopContentStartIndex, loopContent.length);\n\n    return {\n        newTextLines: textLines,\n        // Reseting index relatively to the new textLines array\n        newIndex: loopContentStartIndex - 1,\n    };\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/template/loop_tag.js?");

/***/ }),

/***/ "./src/template/matches.js":
/*!*********************************!*\
  !*** ./src/template/matches.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMatches: () => (/* binding */ getMatches)\n/* harmony export */ });\nconst getMatches = (string, regex) => {\n    var matches = [];\n    let m = regex.exec(string);\n    while (m !== null) {\n        // This is necessary to avoid infinite loops with zero-width matches\n        if (m.index === regex.lastIndex) {\n            regex.lastIndex++;\n        }\n\n        m.forEach((match) => {\n            matches.push(match);\n        });\n        m = regex.exec(string);\n    }\n    return matches;\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/template/matches.js?");

/***/ }),

/***/ "./src/template/parser.js":
/*!********************************!*\
  !*** ./src/template/parser.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parse: () => (/* binding */ parse),\n/* harmony export */   parseTextlines: () => (/* binding */ parseTextlines)\n/* harmony export */ });\n/* harmony import */ var _loop_tag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./loop_tag.js */ \"./src/template/loop_tag.js\");\n/* harmony import */ var _conditionnal_tag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./conditionnal_tag */ \"./src/template/conditionnal_tag.js\");\n/* harmony import */ var _form_utils_infer_id_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../form/utils/infer_id.js */ \"./src/form/utils/infer_id.js\");\n/* harmony import */ var _form_utils_node_value_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../form/utils/node_value.js */ \"./src/form/utils/node_value.js\");\n/* harmony import */ var _array_tag_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./array_tag.js */ \"./src/template/array_tag.js\");\n/* harmony import */ var _scaler_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./scaler.js */ \"./src/template/scaler.js\");\n\n\n\n\n\n\n\nconst variableRegex = /{{(?![#\\/])([^{}]+)}}/g;\n\nconst parse = (tmpDOM) => {\n    let text = tmpDOM.body.innerHTML;\n    const textLines = text.split(/\\r\\n|\\n/);\n    const parsedLines = parseTextlines(textLines);\n    text = parsedLines.join('');\n    document.getElementById('preview').innerHTML += text;\n    (0,_scaler_js__WEBPACK_IMPORTED_MODULE_5__.scalePreview)();\n};\n\nconst parseTextlines = (textLines, idSuffix) => {\n    for (let i = 0; i < textLines.length; i++) {\n        const line = textLines[i];\n        let newLine = '';\n\n        // Handle if tag\n        if (line.includes('{{#if')) {\n            newLine = (0,_conditionnal_tag__WEBPACK_IMPORTED_MODULE_1__.replaceConditionnalTag)(line, idSuffix);\n\n            if (newLine === '') {\n                console.error('Error occured during conditionnal tag replacement.');\n                continue;\n            }\n\n            textLines[i] = newLine;\n            continue;\n        }\n\n        // Handle closing if tag\n        if (line.includes('{{/if}}')) {\n            newLine = '</div>';\n\n            textLines[i] = newLine;\n            continue;\n        }\n\n        // Handle for tag\n        if (line.includes('{{#for')) {\n            const { newTextLines, newIndex } = (0,_loop_tag_js__WEBPACK_IMPORTED_MODULE_0__.replaceLoopTag)(textLines.slice(), line, i, idSuffix);\n\n            textLines = newTextLines;\n            // Reseting index relatively to the new textLines array\n            i = newIndex;\n            continue;\n        }\n\n        // Handle closing for tag\n        if (line.includes('{{/for}}')) {\n            newLine = '</div>';\n\n            textLines[i] = newLine;\n            continue;\n        }\n\n        // Handle array\n        if (line.includes('{{#array')) {\n            newLine = (0,_array_tag_js__WEBPACK_IMPORTED_MODULE_4__.replaceArrayTag)(line, idSuffix);\n            textLines[i] = newLine;\n            continue;\n        }\n\n        if (line.includes('{{#today}}')) {\n            const now = new Date();\n            newLine = line.replace('{{#today}}', now.toLocaleDateString());\n            textLines[i] = newLine;\n            continue;\n        }\n\n        // Simple line with simple variables or not\n        newLine = line.replace(variableRegex, (_, captureGroup) => {\n            const relatedInputID = (0,_form_utils_infer_id_js__WEBPACK_IMPORTED_MODULE_2__.inferId)(captureGroup, idSuffix);\n            let spanID = `span_${relatedInputID}_${crypto.randomUUID()}`;\n\n            const relatedInput = document.getElementById(relatedInputID);\n\n            const relatedInputListeners = () => {\n                const targetSpan = document.getElementById(spanID);\n                targetSpan.innerText = (0,_form_utils_node_value_js__WEBPACK_IMPORTED_MODULE_3__.getNodeValue)(relatedInput);\n                if (targetSpan.innerText === '') {\n                    targetSpan.classList.add('to_fill');\n                } else {\n                    targetSpan.classList.remove('to_fill');\n                }\n            };\n\n            let currentText;\n            try {\n                currentText = (0,_form_utils_node_value_js__WEBPACK_IMPORTED_MODULE_3__.getNodeValue)(relatedInput) || '';\n            } catch (error) {\n                currentText = '';\n            }\n\n            // Adding listeners to related input\n            relatedInput.addEventListener('input', relatedInputListeners);\n            relatedInput.addEventListener('change', relatedInputListeners);\n\n            return `<span id=\"${spanID}\">${currentText}</span> `;\n        });\n        textLines[i] = newLine;\n    }\n\n    return textLines;\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/template/parser.js?");

/***/ }),

/***/ "./src/template/scaler.js":
/*!********************************!*\
  !*** ./src/template/scaler.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   scalePreview: () => (/* binding */ scalePreview)\n/* harmony export */ });\n/**\n * Scales the font sizes in the preview area based on the client width.\n * Adjusts font sizes for paragraphs and headings (h1, h2).\n *\n * Scaling font-size allows to keep a good ratio for the preview\n * and to keep the document readable.\n * @function scalePreview\n *\n * @example\n * // Usage:\n * scalePreview();\n */\nconst scalePreview = () => {\n    // Define default font sizes for various elements in pixels\n    const h1FontSizeInPX = 32;\n    const h2FontSizeInPX = 23;\n    const paragraphFontSizeInPX = 16;\n\n    // Get the client width of the preview area\n    const clientWidthInPx = document.getElementById('preview').clientWidth;\n\n    // Scale font sizes based on client width\n    const scaledParagraphFontSize = scale(clientWidthInPx, paragraphFontSizeInPX);\n    const scaledH1FontSize = scale(clientWidthInPx, h1FontSizeInPX);\n    const scaledH2FontSize = scale(clientWidthInPx, h2FontSizeInPX);\n\n    // Create the existing style element\n    const style = document.createElement('style');\n\n    style.setAttribute('id', 'preview-css');\n\n    const cssTextContent =\n        `#preview p, #preview ul {font-size:${scaledParagraphFontSize}px !important;} ` +\n        `#preview h1 {font-size:${scaledH1FontSize}px !important;} ` +\n        `#preview h2 {font-size:${scaledH2FontSize}px !important;} `;\n\n    style.textContent = cssTextContent;\n\n    // Append the style element to the head of the document\n    document.getElementsByTagName('head')[0].appendChild(style);\n};\n\n/**\n * Calculates the scaled font size based on the client width and a default element font size.\n *\n * @function scale\n * @param {number} clientWidth - The client width of the preview area.\n * @param {number} defaultElementFontsizeInPx - The default font size of the element in pixels.\n * @returns {number} - The scaled font size.\n *\n * @example\n * // Usage:\n * const scaledFontSize = scale(800, 16);\n */\nconst scale = (clientWidth, defaultElementFontsizeInPx) => {\n    // Define the A4 page width in pixels (based on GDoc)\n    const A4PageWidthInPX = 794;\n\n    // Calculate the element ratio based on A4 page width and default element font size\n    const elementRatio = parseInt(A4PageWidthInPX / defaultElementFontsizeInPx);\n\n    // Calculate and return the scaled font size based on the client width and element ratio\n    return parseInt(clientWidth / elementRatio);\n};\n\n\n//# sourceURL=webpack://contract-builder/./src/template/scaler.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;
